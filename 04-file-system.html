<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>第 3 章 文件管理员 | 数据可视化与R语言</title>
  <meta name="description" content="学习 R Graphics 部分的测试代码，函数各参数含义的查询手册，主要目的是帮助读者读懂参考手册，写作过程分步走：学习知识，记笔记，可写本书上，博客侧重在某个点的内容扩展上，书籍需要照顾覆盖面，各部分平衡一点，整理心得，再次修改笔记以符合书籍。所有的案例都基于真实数据集，基础 R 打包的数据集都是真实的，扩展案例就是在规模上进行扩展，选用基础 R 中的数据，原因是收集清洗真实数据是比较麻烦和费时间的事情。数据操作和数据清理部分以Base R为主，在sidebar中给出tidyverse的等价表示。数据可视化部分以ggplot2为主，在sidebar中给出Base R的等价表示" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="第 3 章 文件管理员 | 数据可视化与R语言" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/xiangyun/RGraphics/" />
  
  <meta property="og:description" content="学习 R Graphics 部分的测试代码，函数各参数含义的查询手册，主要目的是帮助读者读懂参考手册，写作过程分步走：学习知识，记笔记，可写本书上，博客侧重在某个点的内容扩展上，书籍需要照顾覆盖面，各部分平衡一点，整理心得，再次修改笔记以符合书籍。所有的案例都基于真实数据集，基础 R 打包的数据集都是真实的，扩展案例就是在规模上进行扩展，选用基础 R 中的数据，原因是收集清洗真实数据是比较麻烦和费时间的事情。数据操作和数据清理部分以Base R为主，在sidebar中给出tidyverse的等价表示。数据可视化部分以ggplot2为主，在sidebar中给出Base R的等价表示" />
  <meta name="github-repo" content="XiangyunHuang/RGraphics" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="第 3 章 文件管理员 | 数据可视化与R语言" />
  
  <meta name="twitter:description" content="学习 R Graphics 部分的测试代码，函数各参数含义的查询手册，主要目的是帮助读者读懂参考手册，写作过程分步走：学习知识，记笔记，可写本书上，博客侧重在某个点的内容扩展上，书籍需要照顾覆盖面，各部分平衡一点，整理心得，再次修改笔记以符合书籍。所有的案例都基于真实数据集，基础 R 打包的数据集都是真实的，扩展案例就是在规模上进行扩展，选用基础 R 中的数据，原因是收集清洗真实数据是比较麻烦和费时间的事情。数据操作和数据清理部分以Base R为主，在sidebar中给出tidyverse的等价表示。数据可视化部分以ggplot2为主，在sidebar中给出Base R的等价表示" />
  

<meta name="author" content="黄湘云" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="03-setup.html">
<link rel="next" href="05-data-object.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css\style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">数据可视化与R语言</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>欢迎</a></li>
<li class="chapter" data-level="" data-path="01-preface.html"><a href="01-preface.html"><i class="fa fa-check"></i>前言</a><ul>
<li class="chapter" data-level="" data-path="01-preface.html"><a href="01-preface.html#what-talk-about"><i class="fa fa-check"></i>关于本书</a></li>
<li class="chapter" data-level="" data-path="01-preface.html"><a href="01-preface.html#structure-of-book"><i class="fa fa-check"></i>本书结构</a></li>
<li class="chapter" data-level="" data-path="01-preface.html"><a href="01-preface.html#about-author"><i class="fa fa-check"></i>关于作者</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="02-introduction.html"><a href="02-introduction.html"><i class="fa fa-check"></i><b>1</b> 介绍</a><ul>
<li class="chapter" data-level="1.1" data-path="02-introduction.html"><a href="02-introduction.html#why-r"><i class="fa fa-check"></i><b>1.1</b> Why R</a></li>
<li class="chapter" data-level="1.2" data-path="02-introduction.html"><a href="02-introduction.html#who-read-this-book"><i class="fa fa-check"></i><b>1.2</b> 目标读者</a></li>
<li class="chapter" data-level="1.3" data-path="02-introduction.html"><a href="02-introduction.html#Getting-Help-with-R"><i class="fa fa-check"></i><b>1.3</b> 获取帮助</a></li>
<li class="chapter" data-level="1.4" data-path="02-introduction.html"><a href="02-introduction.html#history-of-r"><i class="fa fa-check"></i><b>1.4</b> 发展历史</a></li>
<li class="chapter" data-level="1.5" data-path="02-introduction.html"><a href="02-introduction.html#conventions"><i class="fa fa-check"></i><b>1.5</b> 记号约定</a></li>
<li class="chapter" data-level="1.6" data-path="02-introduction.html"><a href="02-introduction.html#softwares-rsession-info"><i class="fa fa-check"></i><b>1.6</b> 软件信息</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="03-setup.html"><a href="03-setup.html"><i class="fa fa-check"></i><b>2</b> 安装与配置</a><ul>
<li class="chapter" data-level="2.1" data-path="03-setup.html"><a href="03-setup.html#repo-install"><i class="fa fa-check"></i><b>2.1</b> 仓库安装</a><ul>
<li class="chapter" data-level="2.1.1" data-path="03-setup.html"><a href="03-setup.html#ubuntu"><i class="fa fa-check"></i><b>2.1.1</b> Ubuntu</a></li>
<li class="chapter" data-level="2.1.2" data-path="03-setup.html"><a href="03-setup.html#centos"><i class="fa fa-check"></i><b>2.1.2</b> CentOS</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="03-setup.html"><a href="03-setup.html#source-install"><i class="fa fa-check"></i><b>2.2</b> 源码安装</a><ul>
<li class="chapter" data-level="2.2.1" data-path="03-setup.html"><a href="03-setup.html#ubuntu-1"><i class="fa fa-check"></i><b>2.2.1</b> Ubuntu</a></li>
<li class="chapter" data-level="2.2.2" data-path="03-setup.html"><a href="03-setup.html#centos-1"><i class="fa fa-check"></i><b>2.2.2</b> CentOS</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="03-setup.html"><a href="03-setup.html#ninja-install"><i class="fa fa-check"></i><b>2.3</b> 忍者安装</a></li>
<li class="chapter" data-level="2.4" data-path="03-setup.html"><a href="03-setup.html#settings"><i class="fa fa-check"></i><b>2.4</b> 配置</a><ul>
<li class="chapter" data-level="2.4.1" data-path="03-setup.html"><a href="03-setup.html#init-session"><i class="fa fa-check"></i><b>2.4.1</b> 初始会话 <code>.Rprofile</code></a></li>
<li class="chapter" data-level="2.4.2" data-path="03-setup.html"><a href="03-setup.html#environ-vars"><i class="fa fa-check"></i><b>2.4.2</b> 环境变量 <code>.Renviron</code></a></li>
<li class="chapter" data-level="2.4.3" data-path="03-setup.html"><a href="03-setup.html#make-vars"><i class="fa fa-check"></i><b>2.4.3</b> 编译选项 <code>Makevars</code></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="03-setup.html"><a href="03-setup.html#command-line-arguments"><i class="fa fa-check"></i><b>2.5</b> 命令行参数</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="04-file-system.html"><a href="04-file-system.html"><i class="fa fa-check"></i><b>3</b> 文件管理员</a><ul>
<li class="chapter" data-level="3.1" data-path="04-file-system.html"><a href="04-file-system.html#list"><i class="fa fa-check"></i><b>3.1</b> 查看文件</a></li>
<li class="chapter" data-level="3.2" data-path="04-file-system.html"><a href="04-file-system.html#manipulation"><i class="fa fa-check"></i><b>3.2</b> 操作文件</a></li>
<li class="chapter" data-level="3.3" data-path="04-file-system.html"><a href="04-file-system.html#compression"><i class="fa fa-check"></i><b>3.3</b> 压缩文件</a></li>
<li class="chapter" data-level="3.4" data-path="04-file-system.html"><a href="04-file-system.html#paths"><i class="fa fa-check"></i><b>3.4</b> 路径操作</a></li>
<li class="chapter" data-level="3.5" data-path="04-file-system.html"><a href="04-file-system.html#find"><i class="fa fa-check"></i><b>3.5</b> 查找文件</a></li>
<li class="chapter" data-level="3.6" data-path="04-file-system.html"><a href="04-file-system.html#permissions"><i class="fa fa-check"></i><b>3.6</b> 文件权限</a></li>
<li class="chapter" data-level="3.7" data-path="04-file-system.html"><a href="04-file-system.html#locale"><i class="fa fa-check"></i><b>3.7</b> 区域设置</a></li>
<li class="chapter" data-level="3.8" data-path="04-file-system.html"><a href="04-file-system.html#process"><i class="fa fa-check"></i><b>3.8</b> 进程管理</a></li>
<li class="chapter" data-level="3.9" data-path="04-file-system.html"><a href="04-file-system.html#system-commands"><i class="fa fa-check"></i><b>3.9</b> 系统命令</a></li>
<li class="chapter" data-level="3.10" data-path="04-file-system.html"><a href="04-file-system.html#time"><i class="fa fa-check"></i><b>3.10</b> 时间管理</a></li>
<li class="chapter" data-level="3.11" data-path="04-file-system.html"><a href="04-file-system.html#package"><i class="fa fa-check"></i><b>3.11</b> R 包管理</a></li>
<li class="chapter" data-level="3.12" data-path="04-file-system.html"><a href="04-file-system.html#lookup-function"><i class="fa fa-check"></i><b>3.12</b> 查找函数</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="05-data-object.html"><a href="05-data-object.html"><i class="fa fa-check"></i><b>4</b> 对象在哪里</a><ul>
<li class="chapter" data-level="4.1" data-path="05-data-object.html"><a href="05-data-object.html#oop-vector"><i class="fa fa-check"></i><b>4.1</b> 向量</a></li>
<li class="chapter" data-level="4.2" data-path="05-data-object.html"><a href="05-data-object.html#oop-matrix"><i class="fa fa-check"></i><b>4.2</b> 矩阵</a></li>
<li class="chapter" data-level="4.3" data-path="05-data-object.html"><a href="05-data-object.html#oop-array"><i class="fa fa-check"></i><b>4.3</b> 数组</a></li>
<li class="chapter" data-level="4.4" data-path="05-data-object.html"><a href="05-data-object.html#oop-data.frame"><i class="fa fa-check"></i><b>4.4</b> 数据框</a></li>
<li class="chapter" data-level="4.5" data-path="05-data-object.html"><a href="05-data-object.html#oop-table"><i class="fa fa-check"></i><b>4.5</b> 表格</a></li>
<li class="chapter" data-level="4.6" data-path="05-data-object.html"><a href="05-data-object.html#oop-list"><i class="fa fa-check"></i><b>4.6</b> 列表</a></li>
<li class="chapter" data-level="4.7" data-path="05-data-object.html"><a href="05-data-object.html#oop-ts"><i class="fa fa-check"></i><b>4.7</b> 时间序列</a></li>
<li class="chapter" data-level="4.8" data-path="05-data-object.html"><a href="05-data-object.html#oop-sf"><i class="fa fa-check"></i><b>4.8</b> 空间数据</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="06-data-import-export.html"><a href="06-data-import-export.html"><i class="fa fa-check"></i><b>5</b> 数据搬运工</a><ul>
<li class="chapter" data-level="5.1" data-path="06-data-import-export.html"><a href="06-data-import-export.html#import-data-files"><i class="fa fa-check"></i><b>5.1</b> 导入数据文件</a><ul>
<li class="chapter" data-level="5.1.1" data-path="06-data-import-export.html"><a href="06-data-import-export.html#scan-file"><i class="fa fa-check"></i><b>5.1.1</b> <code>scan</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="06-data-import-export.html"><a href="06-data-import-export.html#read-write-table"><i class="fa fa-check"></i><b>5.1.2</b> <code>read.table</code></a></li>
<li class="chapter" data-level="5.1.3" data-path="06-data-import-export.html"><a href="06-data-import-export.html#read-write-lines"><i class="fa fa-check"></i><b>5.1.3</b> <code>readLines</code></a></li>
<li class="chapter" data-level="5.1.4" data-path="06-data-import-export.html"><a href="06-data-import-export.html#read-save-rds"><i class="fa fa-check"></i><b>5.1.4</b> <code>readRDS</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="06-data-import-export.html"><a href="06-data-import-export.html#load-save"><i class="fa fa-check"></i><b>5.2</b> 保存输出结果</a></li>
<li class="chapter" data-level="5.3" data-path="06-data-import-export.html"><a href="06-data-import-export.html#save-data-object"><i class="fa fa-check"></i><b>5.3</b> 保存数据对象</a></li>
<li class="chapter" data-level="5.4" data-path="06-data-import-export.html"><a href="06-data-import-export.html#other-data-source"><i class="fa fa-check"></i><b>5.4</b> 其它数据格式</a></li>
<li class="chapter" data-level="5.5" data-path="06-data-import-export.html"><a href="06-data-import-export.html#batch-import-data"><i class="fa fa-check"></i><b>5.5</b> 批量导入数据</a></li>
<li class="chapter" data-level="5.6" data-path="06-data-import-export.html"><a href="06-data-import-export.html#batch-export-data"><i class="fa fa-check"></i><b>5.6</b> 批量导出数据</a></li>
<li class="chapter" data-level="5.7" data-path="06-data-import-export.html"><a href="06-data-import-export.html#import-large-csv-files"><i class="fa fa-check"></i><b>5.7</b> 导入大数据集</a></li>
<li class="chapter" data-level="5.8" data-path="06-data-import-export.html"><a href="06-data-import-export.html#import-data-from-database"><i class="fa fa-check"></i><b>5.8</b> 从数据库导入</a><ul>
<li class="chapter" data-level="5.8.1" data-path="06-data-import-export.html"><a href="06-data-import-export.html#rsqlite"><i class="fa fa-check"></i><b>5.8.1</b> RSQLite</a></li>
<li class="chapter" data-level="5.8.2" data-path="06-data-import-export.html"><a href="06-data-import-export.html#postgresql"><i class="fa fa-check"></i><b>5.8.2</b> PostgreSQL</a></li>
<li class="chapter" data-level="5.8.3" data-path="06-data-import-export.html"><a href="06-data-import-export.html#clickhouse"><i class="fa fa-check"></i><b>5.8.3</b> ClickHouse</a></li>
<li class="chapter" data-level="5.8.4" data-path="06-data-import-export.html"><a href="06-data-import-export.html#mysql"><i class="fa fa-check"></i><b>5.8.4</b> MySQL</a></li>
<li class="chapter" data-level="5.8.5" data-path="06-data-import-export.html"><a href="06-data-import-export.html#spark"><i class="fa fa-check"></i><b>5.8.5</b> Spark</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="07-data-rectangling.html"><a href="07-data-rectangling.html"><i class="fa fa-check"></i><b>6</b> 数据异形者</a></li>
<li class="chapter" data-level="7" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html"><i class="fa fa-check"></i><b>7</b> 数据操作手</a><ul>
<li class="chapter" data-level="7.1" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#show"><i class="fa fa-check"></i><b>7.1</b> 查看数据</a></li>
<li class="chapter" data-level="7.2" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-reshape"><i class="fa fa-check"></i><b>7.2</b> 数据变形</a></li>
<li class="chapter" data-level="7.3" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-transform"><i class="fa fa-check"></i><b>7.3</b> 数据转换</a></li>
<li class="chapter" data-level="7.4" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-subset"><i class="fa fa-check"></i><b>7.4</b> 提取子集</a></li>
<li class="chapter" data-level="7.5" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-order"><i class="fa fa-check"></i><b>7.5</b> 按列排序</a></li>
<li class="chapter" data-level="7.6" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-split"><i class="fa fa-check"></i><b>7.6</b> 数据拆分</a></li>
<li class="chapter" data-level="7.7" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-merge"><i class="fa fa-check"></i><b>7.7</b> 数据合并</a></li>
<li class="chapter" data-level="7.8" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-duplicated"><i class="fa fa-check"></i><b>7.8</b> 数据去重</a></li>
<li class="chapter" data-level="7.9" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-aggregate"><i class="fa fa-check"></i><b>7.9</b> 数据聚合</a></li>
<li class="chapter" data-level="7.10" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-table"><i class="fa fa-check"></i><b>7.10</b> 表格统计</a></li>
<li class="chapter" data-level="7.11" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-index"><i class="fa fa-check"></i><b>7.11</b> 索引访问</a></li>
<li class="chapter" data-level="7.12" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-array"><i class="fa fa-check"></i><b>7.12</b> 多维数组</a></li>
<li class="chapter" data-level="7.13" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#base-others"><i class="fa fa-check"></i><b>7.13</b> 其它操作</a><ul>
<li class="chapter" data-level="7.13.1" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#list-or-unlist"><i class="fa fa-check"></i><b>7.13.1</b> 列表属性</a></li>
<li class="chapter" data-level="7.13.2" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#stack-or-unstack"><i class="fa fa-check"></i><b>7.13.2</b> 堆叠向量</a></li>
<li class="chapter" data-level="7.13.3" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#class-or-unclass"><i class="fa fa-check"></i><b>7.13.3</b> 属性转化</a></li>
<li class="chapter" data-level="7.13.4" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#attach-or-detach"><i class="fa fa-check"></i><b>7.13.4</b> 绑定环境</a></li>
<li class="chapter" data-level="7.13.5" data-path="08-data-manipulation.html"><a href="08-data-manipulation.html#with-or-within"><i class="fa fa-check"></i><b>7.13.5</b> 数据环境</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html"><i class="fa fa-check"></i><b>8</b> 向量化操作</a><ul>
<li class="chapter" data-level="8.1" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#common-operations"><i class="fa fa-check"></i><b>8.1</b> 常用操作</a><ul>
<li class="chapter" data-level="8.1.1" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#tibble-show"><i class="fa fa-check"></i><b>8.1.1</b> 查看</a></li>
<li class="chapter" data-level="8.1.2" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#dplyr-subset"><i class="fa fa-check"></i><b>8.1.2</b> 筛选</a></li>
<li class="chapter" data-level="8.1.3" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#dplyr-order"><i class="fa fa-check"></i><b>8.1.3</b> 排序</a></li>
<li class="chapter" data-level="8.1.4" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#dplyr-aggregate"><i class="fa fa-check"></i><b>8.1.4</b> 聚合</a></li>
<li class="chapter" data-level="8.1.5" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#dplyr-merge"><i class="fa fa-check"></i><b>8.1.5</b> 合并</a></li>
<li class="chapter" data-level="8.1.6" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#dplyr-reshape"><i class="fa fa-check"></i><b>8.1.6</b> 重塑</a></li>
<li class="chapter" data-level="8.1.7" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#dplyr-transform"><i class="fa fa-check"></i><b>8.1.7</b> 变换</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#common-dataframe-operations"><i class="fa fa-check"></i><b>8.2</b> 高频问题</a><ul>
<li class="chapter" data-level="8.2.1" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#create-empty-dataframe"><i class="fa fa-check"></i><b>8.2.1</b> 初始化数据框</a></li>
<li class="chapter" data-level="8.2.2" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#remove-missing-values"><i class="fa fa-check"></i><b>8.2.2</b> 移除缺失记录</a></li>
<li class="chapter" data-level="8.2.3" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#coerce-data-type"><i class="fa fa-check"></i><b>8.2.3</b> 数据类型转化</a></li>
<li class="chapter" data-level="8.2.4" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#cross-group-by"><i class="fa fa-check"></i><b>8.2.4</b> 跨列分组求和</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#parallel-computing"><i class="fa fa-check"></i><b>8.3</b> 并行计算</a><ul>
<li class="chapter" data-level="8.3.1" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#apply"><i class="fa fa-check"></i><b>8.3.1</b> apply</a></li>
<li class="chapter" data-level="8.3.2" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#map-reduce"><i class="fa fa-check"></i><b>8.3.2</b> MapReduce</a></li>
<li class="chapter" data-level="8.3.3" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#parallel"><i class="fa fa-check"></i><b>8.3.3</b> parallel</a></li>
<li class="chapter" data-level="8.3.4" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#rmpi"><i class="fa fa-check"></i><b>8.3.4</b> Rmpi</a></li>
<li class="chapter" data-level="8.3.5" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#gpur"><i class="fa fa-check"></i><b>8.3.5</b> gpuR</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="09-vector-manipulation.html"><a href="09-vector-manipulation.html#pipe-manipulation"><i class="fa fa-check"></i><b>8.4</b> 管道操作</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html"><i class="fa fa-check"></i><b>9</b> 字符串操作</a><ul>
<li class="chapter" data-level="9.1" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#base-count"><i class="fa fa-check"></i><b>9.1</b> 字符数统计</a></li>
<li class="chapter" data-level="9.2" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#base-translations"><i class="fa fa-check"></i><b>9.2</b> 字符串翻译</a></li>
<li class="chapter" data-level="9.3" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#base-concatenate"><i class="fa fa-check"></i><b>9.3</b> 字符串连接</a></li>
<li class="chapter" data-level="9.4" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#base-strsplit"><i class="fa fa-check"></i><b>9.4</b> 字符串拆分</a></li>
<li class="chapter" data-level="9.5" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#base-match"><i class="fa fa-check"></i><b>9.5</b> 字符串匹配</a></li>
<li class="chapter" data-level="9.6" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#base-search"><i class="fa fa-check"></i><b>9.6</b> 字符串查询</a></li>
<li class="chapter" data-level="9.7" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#base-replacement"><i class="fa fa-check"></i><b>9.7</b> 字符串替换</a></li>
<li class="chapter" data-level="9.8" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#base-extract"><i class="fa fa-check"></i><b>9.8</b> 字符串提取</a></li>
<li class="chapter" data-level="9.9" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#other-string-op"><i class="fa fa-check"></i><b>9.9</b> 其它字符串操作</a><ul>
<li class="chapter" data-level="9.9.1" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#strwrap"><i class="fa fa-check"></i><b>9.9.1</b> strwrap</a></li>
<li class="chapter" data-level="9.9.2" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#strtrim"><i class="fa fa-check"></i><b>9.9.2</b> strtrim</a></li>
<li class="chapter" data-level="9.9.3" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#strrep"><i class="fa fa-check"></i><b>9.9.3</b> strrep</a></li>
<li class="chapter" data-level="9.9.4" data-path="10-data-cleaning-with-string.html"><a href="10-data-cleaning-with-string.html#trimws"><i class="fa fa-check"></i><b>9.9.4</b> trimws</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="11-data-cleaning-with-stringr.html"><a href="11-data-cleaning-with-stringr.html"><i class="fa fa-check"></i><b>10</b> 数据清洁工</a><ul>
<li class="chapter" data-level="10.1" data-path="11-data-cleaning-with-stringr.html"><a href="11-data-cleaning-with-stringr.html#performance"><i class="fa fa-check"></i><b>10.1</b> 处理性能</a></li>
<li class="chapter" data-level="10.2" data-path="11-data-cleaning-with-stringr.html"><a href="11-data-cleaning-with-stringr.html#Web-crawler"><i class="fa fa-check"></i><b>10.2</b> 网络爬虫</a></li>
<li class="chapter" data-level="10.3" data-path="11-data-cleaning-with-stringr.html"><a href="11-data-cleaning-with-stringr.html#text-mining"><i class="fa fa-check"></i><b>10.3</b> 文本挖掘</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="12-data-cleaning-with-regexp.html"><a href="12-data-cleaning-with-regexp.html"><i class="fa fa-check"></i><b>11</b> 正则表达式</a><ul>
<li class="chapter" data-level="11.1" data-path="12-data-cleaning-with-regexp.html"><a href="12-data-cleaning-with-regexp.html#character-constants"><i class="fa fa-check"></i><b>11.1</b> 字符常量</a></li>
<li class="chapter" data-level="11.2" data-path="12-data-cleaning-with-regexp.html"><a href="12-data-cleaning-with-regexp.html#environments"><i class="fa fa-check"></i><b>11.2</b> 软件环境</a></li>
<li class="chapter" data-level="11.3" data-path="12-data-cleaning-with-regexp.html"><a href="12-data-cleaning-with-regexp.html#foundations"><i class="fa fa-check"></i><b>11.3</b> 基本概念</a></li>
<li class="chapter" data-level="11.4" data-path="12-data-cleaning-with-regexp.html"><a href="12-data-cleaning-with-regexp.html#match"><i class="fa fa-check"></i><b>11.4</b> 字符串匹配</a></li>
<li class="chapter" data-level="11.5" data-path="12-data-cleaning-with-regexp.html"><a href="12-data-cleaning-with-regexp.html#concatenation"><i class="fa fa-check"></i><b>11.5</b> 级联表达式</a></li>
<li class="chapter" data-level="11.6" data-path="12-data-cleaning-with-regexp.html"><a href="12-data-cleaning-with-regexp.html#backreference"><i class="fa fa-check"></i><b>11.6</b> 反向引用</a></li>
<li class="chapter" data-level="11.7" data-path="12-data-cleaning-with-regexp.html"><a href="12-data-cleaning-with-regexp.html#named-capture"><i class="fa fa-check"></i><b>11.7</b> 命名捕捉</a></li>
<li class="chapter" data-level="11.8" data-path="12-data-cleaning-with-regexp.html"><a href="12-data-cleaning-with-regexp.html#comment"><i class="fa fa-check"></i><b>11.8</b> 表达式注释</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html"><i class="fa fa-check"></i><b>12</b> 绘图素材库</a><ul>
<li class="chapter" data-level="12.1" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#elements"><i class="fa fa-check"></i><b>12.1</b> 基本要素</a><ul>
<li class="chapter" data-level="12.1.1" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-points"><i class="fa fa-check"></i><b>12.1.1</b> 点线</a></li>
<li class="chapter" data-level="12.1.2" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-rect"><i class="fa fa-check"></i><b>12.1.2</b> 区域</a></li>
<li class="chapter" data-level="12.1.3" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-lines"><i class="fa fa-check"></i><b>12.1.3</b> 参考线</a></li>
<li class="chapter" data-level="12.1.4" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-axis"><i class="fa fa-check"></i><b>12.1.4</b> 坐标轴</a></li>
<li class="chapter" data-level="12.1.5" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-title"><i class="fa fa-check"></i><b>12.1.5</b> 标题</a></li>
<li class="chapter" data-level="12.1.6" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-annotation"><i class="fa fa-check"></i><b>12.1.6</b> 注释</a></li>
<li class="chapter" data-level="12.1.7" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-legend"><i class="fa fa-check"></i><b>12.1.7</b> 图例</a></li>
<li class="chapter" data-level="12.1.8" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-par"><i class="fa fa-check"></i><b>12.1.8</b> 边空</a></li>
<li class="chapter" data-level="12.1.9" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-layer"><i class="fa fa-check"></i><b>12.1.9</b> 图层</a></li>
<li class="chapter" data-level="12.1.10" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-layout"><i class="fa fa-check"></i><b>12.1.10</b> 布局</a></li>
<li class="chapter" data-level="12.1.11" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-combine"><i class="fa fa-check"></i><b>12.1.11</b> 组合</a></li>
<li class="chapter" data-level="12.1.12" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-screen"><i class="fa fa-check"></i><b>12.1.12</b> 分屏</a></li>
<li class="chapter" data-level="12.1.13" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#identify-locator"><i class="fa fa-check"></i><b>12.1.13</b> 交互</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-gallary"><i class="fa fa-check"></i><b>12.2</b> 统计图形</a><ul>
<li class="chapter" data-level="12.2.1" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-bar"><i class="fa fa-check"></i><b>12.2.1</b> 条形图</a></li>
<li class="chapter" data-level="12.2.2" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-hist"><i class="fa fa-check"></i><b>12.2.2</b> 直方图</a></li>
<li class="chapter" data-level="12.2.3" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-density"><i class="fa fa-check"></i><b>12.2.3</b> 密度图</a></li>
<li class="chapter" data-level="12.2.4" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-ecdf"><i class="fa fa-check"></i><b>12.2.4</b> 经验图</a></li>
<li class="chapter" data-level="12.2.5" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-qqnorm"><i class="fa fa-check"></i><b>12.2.5</b> QQ 图</a></li>
<li class="chapter" data-level="12.2.6" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-ts"><i class="fa fa-check"></i><b>12.2.6</b> 时序图</a></li>
<li class="chapter" data-level="12.2.7" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-pie"><i class="fa fa-check"></i><b>12.2.7</b> 饼图</a></li>
<li class="chapter" data-level="12.2.8" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-stem-leaf"><i class="fa fa-check"></i><b>12.2.8</b> 茎叶图</a></li>
<li class="chapter" data-level="12.2.9" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-scatter"><i class="fa fa-check"></i><b>12.2.9</b> 散点图</a></li>
<li class="chapter" data-level="12.2.10" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#base-jitter"><i class="fa fa-check"></i><b>12.2.10</b> 抖动图</a></li>
<li class="chapter" data-level="12.2.11" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-box"><i class="fa fa-check"></i><b>12.2.11</b> 箱线图</a></li>
<li class="chapter" data-level="12.2.12" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#error-bars"><i class="fa fa-check"></i><b>12.2.12</b> 残差图</a></li>
<li class="chapter" data-level="12.2.13" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-violin"><i class="fa fa-check"></i><b>12.2.13</b> 提琴图</a></li>
<li class="chapter" data-level="12.2.14" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-contour"><i class="fa fa-check"></i><b>12.2.14</b> 轮廓图</a></li>
<li class="chapter" data-level="12.2.15" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-line"><i class="fa fa-check"></i><b>12.2.15</b> 折线图</a></li>
<li class="chapter" data-level="12.2.16" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#function"><i class="fa fa-check"></i><b>12.2.16</b> 函数图</a></li>
<li class="chapter" data-level="12.2.17" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-mosaic"><i class="fa fa-check"></i><b>12.2.17</b> 马赛克图</a></li>
<li class="chapter" data-level="12.2.18" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#dotchart"><i class="fa fa-check"></i><b>12.2.18</b> 克利夫兰点图</a></li>
<li class="chapter" data-level="12.2.19" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-matrix"><i class="fa fa-check"></i><b>12.2.19</b> 矩阵图</a></li>
<li class="chapter" data-level="12.2.20" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-radar"><i class="fa fa-check"></i><b>12.2.20</b> 雷达图</a></li>
<li class="chapter" data-level="12.2.21" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-rose"><i class="fa fa-check"></i><b>12.2.21</b> 玫瑰图</a></li>
<li class="chapter" data-level="12.2.22" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#plot-map"><i class="fa fa-check"></i><b>12.2.22</b> 地形图</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#tikz"><i class="fa fa-check"></i><b>12.3</b> TikZ 绘图</a></li>
<li class="chapter" data-level="12.4" data-path="13-data-visualization-with-plot.html"><a href="13-data-visualization-with-plot.html#export-save"><i class="fa fa-check"></i><b>12.4</b> 图形导出</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="14-data-visualization-with-plot3d.html"><a href="14-data-visualization-with-plot3d.html"><i class="fa fa-check"></i><b>13</b> 三维可视化</a><ul>
<li class="chapter" data-level="13.1" data-path="14-data-visualization-with-plot3d.html"><a href="14-data-visualization-with-plot3d.html#pie-3d"><i class="fa fa-check"></i><b>13.1</b> 饼图</a></li>
<li class="chapter" data-level="13.2" data-path="14-data-visualization-with-plot3d.html"><a href="14-data-visualization-with-plot3d.html#bar-3d"><i class="fa fa-check"></i><b>13.2</b> 柱形图</a></li>
<li class="chapter" data-level="13.3" data-path="14-data-visualization-with-plot3d.html"><a href="14-data-visualization-with-plot3d.html#scatter-3d"><i class="fa fa-check"></i><b>13.3</b> 散点图</a></li>
<li class="chapter" data-level="13.4" data-path="14-data-visualization-with-plot3d.html"><a href="14-data-visualization-with-plot3d.html#curve-3d"><i class="fa fa-check"></i><b>13.4</b> 函数图</a></li>
<li class="chapter" data-level="13.5" data-path="14-data-visualization-with-plot3d.html"><a href="14-data-visualization-with-plot3d.html#persp-3d"><i class="fa fa-check"></i><b>13.5</b> 透视图</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>14</b> 数据可视化</a><ul>
<li class="chapter" data-level="14.1" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#intro-ggplot2"><i class="fa fa-check"></i><b>14.1</b> 基础语法</a><ul>
<li class="chapter" data-level="14.1.1" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-layer"><i class="fa fa-check"></i><b>14.1.1</b> 图层</a></li>
<li class="chapter" data-level="14.1.2" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-theme"><i class="fa fa-check"></i><b>14.1.2</b> 主题</a></li>
<li class="chapter" data-level="14.1.3" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-color"><i class="fa fa-check"></i><b>14.1.3</b> 配色</a></li>
<li class="chapter" data-level="14.1.4" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-scale"><i class="fa fa-check"></i><b>14.1.4</b> 刻度</a></li>
<li class="chapter" data-level="14.1.5" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-annotate"><i class="fa fa-check"></i><b>14.1.5</b> 注释</a></li>
<li class="chapter" data-level="14.1.6" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-legend"><i class="fa fa-check"></i><b>14.1.6</b> 图例</a></li>
<li class="chapter" data-level="14.1.7" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-grid"><i class="fa fa-check"></i><b>14.1.7</b> 组合</a></li>
<li class="chapter" data-level="14.1.8" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-coord"><i class="fa fa-check"></i><b>14.1.8</b> 坐标系</a></li>
<li class="chapter" data-level="14.1.9" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-axes"><i class="fa fa-check"></i><b>14.1.9</b> 坐标轴</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-gallary"><i class="fa fa-check"></i><b>14.2</b> 统计图形</a><ul>
<li class="chapter" data-level="14.2.1" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-scatter"><i class="fa fa-check"></i><b>14.2.1</b> 散点图</a></li>
<li class="chapter" data-level="14.2.2" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-boxplot"><i class="fa fa-check"></i><b>14.2.2</b> 箱线图</a></li>
<li class="chapter" data-level="14.2.3" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-barplot"><i class="fa fa-check"></i><b>14.2.3</b> 条形图</a></li>
<li class="chapter" data-level="14.2.4" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-line"><i class="fa fa-check"></i><b>14.2.4</b> 折线图</a></li>
<li class="chapter" data-level="14.2.5" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-histogram"><i class="fa fa-check"></i><b>14.2.5</b> 直方图</a></li>
<li class="chapter" data-level="14.2.6" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-violin"><i class="fa fa-check"></i><b>14.2.6</b> 提琴图</a></li>
<li class="chapter" data-level="14.2.7" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-jitter"><i class="fa fa-check"></i><b>14.2.7</b> 抖动图</a></li>
<li class="chapter" data-level="14.2.8" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-ridge"><i class="fa fa-check"></i><b>14.2.8</b> 密度图</a></li>
<li class="chapter" data-level="14.2.9" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-rose"><i class="fa fa-check"></i><b>14.2.9</b> 玫瑰图</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-spatial"><i class="fa fa-check"></i><b>14.3</b> 空间数据</a><ul>
<li class="chapter" data-level="14.3.1" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-raster"><i class="fa fa-check"></i><b>14.3.1</b> raster</a></li>
<li class="chapter" data-level="14.3.2" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-sp"><i class="fa fa-check"></i><b>14.3.2</b> sp</a></li>
<li class="chapter" data-level="14.3.3" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-sf"><i class="fa fa-check"></i><b>14.3.3</b> sf</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-network"><i class="fa fa-check"></i><b>14.4</b> 网络数据</a></li>
<li class="chapter" data-level="14.5" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#analysis-cran"><i class="fa fa-check"></i><b>14.5</b> CRAN 分析</a></li>
<li class="chapter" data-level="14.6" data-path="15-data-visualization-with-ggplot2.html"><a href="15-data-visualization-with-ggplot2.html#ggplot2-session-info"><i class="fa fa-check"></i><b>14.6</b> 软件信息</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="16-data-visualization-with-colors-fonts.html"><a href="16-data-visualization-with-colors-fonts.html"><i class="fa fa-check"></i><b>15</b> 色彩与字体</a><ul>
<li class="chapter" data-level="15.1" data-path="16-data-visualization-with-colors-fonts.html"><a href="16-data-visualization-with-colors-fonts.html#colors"><i class="fa fa-check"></i><b>15.1</b> 配色</a><ul>
<li class="chapter" data-level="15.1.1" data-path="16-data-visualization-with-colors-fonts.html"><a href="16-data-visualization-with-colors-fonts.html#colourlovers"><i class="fa fa-check"></i><b>15.1.1</b> colourlovers</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="16-data-visualization-with-colors-fonts.html"><a href="16-data-visualization-with-colors-fonts.html#fonts"><i class="fa fa-check"></i><b>15.2</b> 字体</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="99-references.html"><a href="99-references.html"><i class="fa fa-check"></i>参考文献</a></li>
<li class="divider"></li>
<li><a href="https://r4charts.netlify.com/" target="blank">Published with netlify</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">数据可视化与R语言</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="file-administrator" class="section level1">
<h1><span class="header-section-number">第 3 章</span> 文件管理员</h1>
<blockquote>
<p>考虑添加 Shell 下的命令实现，参考 <a href="https://github.com/jlevy/the-art-of-command-line/blob/master/README-zh.md">命令行的艺术</a></p>
</blockquote>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(magrittr) <span class="co"># 提供管道命令 %&gt;%</span></code></pre>
<div class="sidebar">
<p><a href="https://github.com/r-lib/fs">fs</a> 由 <a href="https://www.jimhester.com/">Jim Hester</a> 开发，提供文件系统操作的统一接口，相比于 R 默认的文件系统的操作函数有显而易见的优点，详情请看 <a href="https://fs.r-lib.org/" class="uri">https://fs.r-lib.org/</a></p>
<p>对于文件操作，Jim Hester 开发了 <a href="https://github.com/r-lib/fs">fs 包</a> 目的是统一文件操作的命令，由于时间和历史原因，R内置的文件操作函数的命名很不统一，如 <code>path.expand()</code> 和 <code>normalizePath()</code>，<code>Sys.chmod()</code> 和 <code>file.access()</code> 等</p>
</div>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 加载 R 包</span>
<span class="kw">library</span>(fs)</code></pre>
<div id="list" class="section level2">
<h2><span class="header-section-number">3.1</span> 查看文件</h2>
<p>文件夹只包含文件，目录既包含文件又包含文件夹，<code>list.dirs</code> 列出目录或文件夹，<code>list.files</code> 列出文件或文件夹</p>
<ul>
<li><p><code>list.dirs(path = ".", full.names = TRUE, recursive = TRUE)</code></p>
<ul>
<li>path: 指定完整路径名，默认使用当前路径 <code>getwd()</code></li>
<li>full.names: TRUE 返回相对路径，FALSE 返回目录的名称</li>
<li>recursive: 是否递归的方式列出目录，如果是的话，目录下的子目录也会列出</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># list.dirs(path = &#39;.&#39;, full.names = TRUE, recursive = TRUE)</span>
<span class="kw">list.dirs</span>(<span class="dt">path =</span> <span class="st">&#39;.&#39;</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>, <span class="dt">recursive =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt;  [1] &quot;./.git&quot;                                         </span>
<span class="co">#&gt;  [2] &quot;./.Rproj.user&quot;                                  </span>
<span class="co">#&gt;  [3] &quot;./_book&quot;                                        </span>
<span class="co">#&gt;  [4] &quot;./_bookdown_files&quot;                              </span>
<span class="co">#&gt;  [5] &quot;./01-preface_cache&quot;                             </span>
<span class="co">#&gt;  [6] &quot;./02-introduction_cache&quot;                        </span>
<span class="co">#&gt;  [7] &quot;./04-file-system_cache&quot;                         </span>
<span class="co">#&gt;  [8] &quot;./06-data-import-export_cache&quot;                  </span>
<span class="co">#&gt;  [9] &quot;./08-data-manipulation_cache&quot;                   </span>
<span class="co">#&gt; [10] &quot;./08-data-manipulation_files&quot;                   </span>
<span class="co">#&gt; [11] &quot;./09-vector-manipulation_cache&quot;                 </span>
<span class="co">#&gt; [12] &quot;./10-data-cleaning-with-string_cache&quot;           </span>
<span class="co">#&gt; [13] &quot;./11-data-cleaning-with-stringr_cache&quot;          </span>
<span class="co">#&gt; [14] &quot;./12-data-cleaning-with-regexp_cache&quot;           </span>
<span class="co">#&gt; [15] &quot;./13-data-visualization-with-plot_cache&quot;        </span>
<span class="co">#&gt; [16] &quot;./13-data-visualization-with-plot_files&quot;        </span>
<span class="co">#&gt; [17] &quot;./14-data-visualization-with-plot3d_cache&quot;      </span>
<span class="co">#&gt; [18] &quot;./14-data-visualization-with-plot3d_files&quot;      </span>
<span class="co">#&gt; [19] &quot;./15-data-visualization-with-ggplot2_cache&quot;     </span>
<span class="co">#&gt; [20] &quot;./15-data-visualization-with-ggplot2_files&quot;     </span>
<span class="co">#&gt; [21] &quot;./16-data-visualization-with-colors-fonts_cache&quot;</span>
<span class="co">#&gt; [22] &quot;./16-data-visualization-with-colors-fonts_files&quot;</span>
<span class="co">#&gt; [23] &quot;./17-interactive-graphics_cache&quot;                </span>
<span class="co">#&gt; [24] &quot;./17-interactive-graphics_files&quot;                </span>
<span class="co">#&gt; [25] &quot;./18-dynamic-documents_cache&quot;                   </span>
<span class="co">#&gt; [26] &quot;./18-dynamic-documents_files&quot;                   </span>
<span class="co">#&gt; [27] &quot;./19-data-cleaning-with-python_cache&quot;           </span>
<span class="co">#&gt; [28] &quot;./code&quot;                                         </span>
<span class="co">#&gt; [29] &quot;./css&quot;                                          </span>
<span class="co">#&gt; [30] &quot;./data&quot;                                         </span>
<span class="co">#&gt; [31] &quot;./figures&quot;                                      </span>
<span class="co">#&gt; [32] &quot;./images&quot;                                       </span>
<span class="co">#&gt; [33] &quot;./index_cache&quot;                                  </span>
<span class="co">#&gt; [34] &quot;./index_files&quot;                                  </span>
<span class="co">#&gt; [35] &quot;./latex&quot;                                        </span>
<span class="co">#&gt; [36] &quot;./rsconnect&quot;</span>
<span class="kw">list.dirs</span>(<span class="dt">path =</span> <span class="st">&#39;.&#39;</span>, <span class="dt">full.names =</span> <span class="ot">FALSE</span>, <span class="dt">recursive =</span> <span class="ot">FALSE</span>)
<span class="co">#&gt;  [1] &quot;.git&quot;                                         </span>
<span class="co">#&gt;  [2] &quot;.Rproj.user&quot;                                  </span>
<span class="co">#&gt;  [3] &quot;_book&quot;                                        </span>
<span class="co">#&gt;  [4] &quot;_bookdown_files&quot;                              </span>
<span class="co">#&gt;  [5] &quot;01-preface_cache&quot;                             </span>
<span class="co">#&gt;  [6] &quot;02-introduction_cache&quot;                        </span>
<span class="co">#&gt;  [7] &quot;04-file-system_cache&quot;                         </span>
<span class="co">#&gt;  [8] &quot;06-data-import-export_cache&quot;                  </span>
<span class="co">#&gt;  [9] &quot;08-data-manipulation_cache&quot;                   </span>
<span class="co">#&gt; [10] &quot;08-data-manipulation_files&quot;                   </span>
<span class="co">#&gt; [11] &quot;09-vector-manipulation_cache&quot;                 </span>
<span class="co">#&gt; [12] &quot;10-data-cleaning-with-string_cache&quot;           </span>
<span class="co">#&gt; [13] &quot;11-data-cleaning-with-stringr_cache&quot;          </span>
<span class="co">#&gt; [14] &quot;12-data-cleaning-with-regexp_cache&quot;           </span>
<span class="co">#&gt; [15] &quot;13-data-visualization-with-plot_cache&quot;        </span>
<span class="co">#&gt; [16] &quot;13-data-visualization-with-plot_files&quot;        </span>
<span class="co">#&gt; [17] &quot;14-data-visualization-with-plot3d_cache&quot;      </span>
<span class="co">#&gt; [18] &quot;14-data-visualization-with-plot3d_files&quot;      </span>
<span class="co">#&gt; [19] &quot;15-data-visualization-with-ggplot2_cache&quot;     </span>
<span class="co">#&gt; [20] &quot;15-data-visualization-with-ggplot2_files&quot;     </span>
<span class="co">#&gt; [21] &quot;16-data-visualization-with-colors-fonts_cache&quot;</span>
<span class="co">#&gt; [22] &quot;16-data-visualization-with-colors-fonts_files&quot;</span>
<span class="co">#&gt; [23] &quot;17-interactive-graphics_cache&quot;                </span>
<span class="co">#&gt; [24] &quot;17-interactive-graphics_files&quot;                </span>
<span class="co">#&gt; [25] &quot;18-dynamic-documents_cache&quot;                   </span>
<span class="co">#&gt; [26] &quot;18-dynamic-documents_files&quot;                   </span>
<span class="co">#&gt; [27] &quot;19-data-cleaning-with-python_cache&quot;           </span>
<span class="co">#&gt; [28] &quot;code&quot;                                         </span>
<span class="co">#&gt; [29] &quot;css&quot;                                          </span>
<span class="co">#&gt; [30] &quot;data&quot;                                         </span>
<span class="co">#&gt; [31] &quot;figures&quot;                                      </span>
<span class="co">#&gt; [32] &quot;images&quot;                                       </span>
<span class="co">#&gt; [33] &quot;index_cache&quot;                                  </span>
<span class="co">#&gt; [34] &quot;index_files&quot;                                  </span>
<span class="co">#&gt; [35] &quot;latex&quot;                                        </span>
<span class="co">#&gt; [36] &quot;rsconnect&quot;</span></code></pre></li>
<li><p><code>list.files(path = ".", pattern = NULL, all.files = FALSE, full.names = FALSE, recursive = FALSE,ignore.case = FALSE, include.dirs = FALSE, no.. = FALSE)</code></p>
<p>是否递归的方式列出目录，如果是的话，目录下的子目录也会列出</p>
<ul>
<li>path: 指定完整路径名，默认使用当前路径 <code>getwd()</code></li>
<li>full.names: TRUE 返回相对路径，FALSE 返回目录的名称</li>
<li>recursive: 是否递归的方式列出目录，如果是的话，目录下的子目录也会列出</li>
</ul></li>
<li><p><code>file.show(..., header = rep("", nfiles), title = "R Information", delete.file = FALSE, pager = getOption("pager"),encoding = "")</code></p>
<p>打开文件内容，<code>file.show</code> 会在R终端中新开一个窗口显示文件，如图<a href="04-file-system.html#fig:show-file">3.1</a>所示</p>
<pre class="sourceCode r"><code class="sourceCode r">rinternals &lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">R.home</span>(<span class="st">&quot;include&quot;</span>), <span class="st">&quot;Rinternals.h&quot;</span>)
<span class="co"># file.show(rinternals)</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="dt">path =</span> <span class="st">&#39;figures/show-file.png&#39;</span>)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:show-file"></span>
<img src="figures/show-file.png" alt="file.show 打开文件" width="70%" />
<p class="caption">
图 3.1: file.show 打开文件
</p>
</div></li>
<li><p><code>file.info(..., extra_cols = TRUE)</code></p>
<p>获取文件信息，此外 <code>file.mode(...)</code> 、 <code>file.mtime(...)</code> 和 <code>file.size(...)</code> 分别表示文件的读写权限，修改时间和文件大小。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.info</span>(rinternals)
<span class="co">#&gt;                                              size isdir mode</span>
<span class="co">#&gt; C:/PROGRA~1/R/R-36~1.0/include/Rinternals.h 57273 FALSE  666</span>
<span class="co">#&gt;                                                           mtime</span>
<span class="co">#&gt; C:/PROGRA~1/R/R-36~1.0/include/Rinternals.h 2019-04-11 23:02:02</span>
<span class="co">#&gt;                                                           ctime</span>
<span class="co">#&gt; C:/PROGRA~1/R/R-36~1.0/include/Rinternals.h 2019-05-14 18:19:50</span>
<span class="co">#&gt;                                                           atime exe</span>
<span class="co">#&gt; C:/PROGRA~1/R/R-36~1.0/include/Rinternals.h 2019-05-14 18:19:50  no</span>
<span class="kw">file.mode</span>(rinternals)
<span class="co">#&gt; [1] &quot;666&quot;</span>
<span class="kw">file.mtime</span>(rinternals)
<span class="co">#&gt; [1] &quot;2019-04-11 23:02:02 CST&quot;</span>
<span class="kw">file.size</span>(rinternals)
<span class="co">#&gt; [1] 57273</span>
<span class="co"># 查看当前目录的权限</span>
<span class="kw">file.info</span>(<span class="st">&quot;.&quot;</span>)
<span class="co">#&gt;   size isdir mode               mtime               ctime               atime</span>
<span class="co">#&gt; .    0  TRUE  777 2019-05-27 00:47:32 2019-01-18 17:00:19 2019-05-27 00:47:32</span>
<span class="co">#&gt;   exe</span>
<span class="co">#&gt; .  no</span>
<span class="co"># 查看指定目录权限</span>
<span class="kw">file.info</span>(<span class="st">&quot;./_book/&quot;</span>)    
<span class="co">#&gt;          size isdir mode               mtime               ctime</span>
<span class="co">#&gt; ./_book/    0  TRUE  777 2019-05-27 00:47:33 2019-05-27 00:00:36</span>
<span class="co">#&gt;                        atime exe</span>
<span class="co">#&gt; ./_book/ 2019-05-27 00:47:33  no</span></code></pre></li>
<li><p><code>file.access(names, mode = 0)</code></p>
<p>文件是否可以被访问，第二个参数 mode 一共有四种取值 0，1，2，4，分别表示文件的存在性，可执行，可写和可读四种，返回值 0 表示成功，返回值 -1 表示失败。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.access</span>(rinternals,<span class="dt">mode =</span> <span class="dv">0</span>)
<span class="co">#&gt; C:/PROGRA~1/R/R-36~1.0/include/Rinternals.h </span>
<span class="co">#&gt;                                           0</span>
<span class="kw">file.access</span>(rinternals,<span class="dt">mode =</span> <span class="dv">1</span>)
<span class="co">#&gt; C:/PROGRA~1/R/R-36~1.0/include/Rinternals.h </span>
<span class="co">#&gt;                                          -1</span>
<span class="kw">file.access</span>(rinternals,<span class="dt">mode =</span> <span class="dv">2</span>)
<span class="co">#&gt; C:/PROGRA~1/R/R-36~1.0/include/Rinternals.h </span>
<span class="co">#&gt;                                          -1</span>
<span class="kw">file.access</span>(rinternals,<span class="dt">mode =</span> <span class="dv">4</span>)
<span class="co">#&gt; C:/PROGRA~1/R/R-36~1.0/include/Rinternals.h </span>
<span class="co">#&gt;                                           0</span></code></pre></li>
<li><p><code>dir(path = ".", pattern = NULL, all.files = FALSE, full.names = FALSE, recursive = FALSE, ignore.case = FALSE, include.dirs = FALSE, no.. = FALSE)</code></p>
<p>查看目录，首先看看和目录操作有关的函数列表</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apropos</span>(<span class="st">&quot;^dir.&quot;</span>)
<span class="co">#&gt;  [1] &quot;dir.create&quot; &quot;dir.exists&quot; &quot;dir_copy&quot;   &quot;dir_create&quot; &quot;dir_delete&quot;</span>
<span class="co">#&gt;  [6] &quot;dir_exists&quot; &quot;dir_info&quot;   &quot;dir_ls&quot;     &quot;dir_map&quot;    &quot;dir_tree&quot;  </span>
<span class="co">#&gt; [11] &quot;dir_walk&quot;   &quot;dirname&quot;</span></code></pre>
<p>显而易见，<code>dir.create</code> 和 <code>dir.exists</code> 分别是创建目录和查看目录的存在性。<code>dirname</code> 和 <code>basename</code> 是一对函数用来操作文件路径。以当前目录C:/Users/xy-huang/Desktop/RGraphics为例，<code>dirname(getwd())</code> 返回 C:/Users/xy-huang/Desktop 而 <code>basename(getwd())</code> 返回 RGraphics。对于文件路径而言，<code>dirname(rinternals)</code> 返回文件所在的目录C:/PROGRA<sub>1/R/R-36</sub>1.0/include， <code>basename(rinternals)</code> 返回文件名Rinternals.h。<code>dir</code> 函数查看指定路径或目录下的文件，支持以模式匹配和递归的方式查找目录下的文件</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 当前目录下的子目录和文件</span>
<span class="kw">dir</span>()
<span class="co">#&gt;  [1] &quot;_book&quot;                                           </span>
<span class="co">#&gt;  [2] &quot;_bookdown.yml&quot;                                   </span>
<span class="co">#&gt;  [3] &quot;_bookdown_files&quot;                                 </span>
<span class="co">#&gt;  [4] &quot;_common.R&quot;                                       </span>
<span class="co">#&gt;  [5] &quot;_deploy.sh&quot;                                      </span>
<span class="co">#&gt;  [6] &quot;_output.yml&quot;                                     </span>
....
<span class="co"># 查看指定目录的子目录和文件</span>
<span class="kw">dir</span>(<span class="dt">path =</span> <span class="st">&quot;./&quot;</span>)
<span class="co">#&gt;  [1] &quot;_book&quot;                                           </span>
<span class="co">#&gt;  [2] &quot;_bookdown.yml&quot;                                   </span>
<span class="co">#&gt;  [3] &quot;_bookdown_files&quot;                                 </span>
<span class="co">#&gt;  [4] &quot;_common.R&quot;                                       </span>
<span class="co">#&gt;  [5] &quot;_deploy.sh&quot;                                      </span>
<span class="co">#&gt;  [6] &quot;_output.yml&quot;                                     </span>
....
<span class="co"># 只列出以字母R开头的子目录和文件</span>
<span class="kw">dir</span>(<span class="dt">path =</span> <span class="st">&quot;./&quot;</span>, <span class="dt">pattern =</span> <span class="st">&quot;^R&quot;</span>)
<span class="co">#&gt; [1] &quot;README.md&quot;       &quot;RGraphics.rds&quot;   &quot;RGraphics.Rproj&quot;</span>
<span class="co"># 列出目录下所有目录和文件，包括隐藏文件</span>
<span class="kw">dir</span>(<span class="dt">path =</span> <span class="st">&quot;./&quot;</span>, <span class="dt">all.files =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt;  [1] &quot;.&quot;                                               </span>
<span class="co">#&gt;  [2] &quot;..&quot;                                              </span>
<span class="co">#&gt;  [3] &quot;.git&quot;                                            </span>
<span class="co">#&gt;  [4] &quot;.gitignore&quot;                                      </span>
<span class="co">#&gt;  [5] &quot;.Rhistory&quot;                                       </span>
<span class="co">#&gt;  [6] &quot;.Rproj.user&quot;                                     </span>
....
<span class="co"># 支持正则表达式</span>
<span class="kw">dir</span>(<span class="dt">pattern =</span> <span class="st">&#39;^[A-Z]+[.]txt$&#39;</span>, <span class="dt">full.names=</span><span class="ot">TRUE</span>, <span class="kw">system.file</span>(<span class="st">&#39;doc&#39;</span>, <span class="st">&#39;SuiteSparse&#39;</span>, <span class="dt">package=</span><span class="st">&#39;Matrix&#39;</span>))
<span class="co">#&gt; [1] &quot;D:/library/Matrix/doc/SuiteSparse/AMD.txt&quot;    </span>
<span class="co">#&gt; [2] &quot;D:/library/Matrix/doc/SuiteSparse/CHOLMOD.txt&quot;</span>
<span class="co">#&gt; [3] &quot;D:/library/Matrix/doc/SuiteSparse/COLAMD.txt&quot; </span>
<span class="co">#&gt; [4] &quot;D:/library/Matrix/doc/SuiteSparse/SPQR.txt&quot;</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 在临时目录下递归创建一个目录</span>
<span class="kw">dir.create</span>(<span class="kw">paste0</span>(<span class="kw">tempdir</span>(), <span class="st">&quot;/_book/tmp&quot;</span>), <span class="dt">recursive =</span> <span class="ot">TRUE</span>)</code></pre></li>
</ul>
<p>查看当前目录下的文件和文件夹 <code>tree -L 2 .</code> 或者 <code>ls -l .</code></p>
</div>
<div id="manipulation" class="section level2">
<h2><span class="header-section-number">3.2</span> 操作文件</h2>
<p>实现文件增删改查的函数如下</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apropos</span>(<span class="st">&quot;^file.&quot;</span>)
<span class="co">#&gt;  [1] &quot;file.access&quot;    &quot;file.append&quot;    &quot;file.choose&quot;    &quot;file.copy&quot;     </span>
<span class="co">#&gt;  [5] &quot;file.create&quot;    &quot;file.edit&quot;      &quot;file.exists&quot;    &quot;file.info&quot;     </span>
<span class="co">#&gt;  [9] &quot;file.link&quot;      &quot;file.mode&quot;      &quot;file.mtime&quot;     &quot;file.path&quot;     </span>
<span class="co">#&gt; [13] &quot;file.remove&quot;    &quot;file.rename&quot;    &quot;file.show&quot;      &quot;file.size&quot;     </span>
<span class="co">#&gt; [17] &quot;file.symlink&quot;   &quot;file_access&quot;    &quot;file_chmod&quot;     &quot;file_chown&quot;    </span>
<span class="co">#&gt; [21] &quot;file_copy&quot;      &quot;file_create&quot;    &quot;file_delete&quot;    &quot;file_exists&quot;   </span>
<span class="co">#&gt; [25] &quot;file_info&quot;      &quot;file_move&quot;      &quot;file_show&quot;      &quot;file_size&quot;     </span>
<span class="co">#&gt; [29] &quot;file_temp&quot;      &quot;file_temp_pop&quot;  &quot;file_temp_push&quot; &quot;file_test&quot;     </span>
<span class="co">#&gt; [33] &quot;file_touch&quot;     &quot;fileSnapshot&quot;</span></code></pre>
<ol style="list-style-type: decimal">
<li><p><code>file.create(..., showWarnings = TRUE)</code></p>
<p>创建/删除文件，检查文件的存在性</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.create</span>(<span class="st">&#39;demo.txt&#39;</span>)
<span class="co">#&gt; [1] TRUE</span>
<span class="kw">file.exists</span>(<span class="st">&#39;demo.txt&#39;</span>)
<span class="co">#&gt; [1] TRUE</span>
<span class="kw">file.remove</span>(<span class="st">&#39;demo.txt&#39;</span>)
<span class="co">#&gt; [1] TRUE</span>
<span class="kw">file.exists</span>(<span class="st">&#39;demo.txt&#39;</span>)
<span class="co">#&gt; [1] FALSE</span></code></pre></li>
<li><p><code>file.rename(from, to)</code> 文件重命名</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.create</span>(<span class="st">&#39;demo.txt&#39;</span>)
<span class="co">#&gt; [1] TRUE</span>
<span class="kw">file.rename</span>(<span class="dt">from =</span> <span class="st">&#39;demo.txt&#39;</span>, <span class="dt">to =</span> <span class="st">&#39;tmp.txt&#39;</span>)
<span class="co">#&gt; [1] TRUE</span>
<span class="kw">file.exists</span>(<span class="st">&#39;tmp.txt&#39;</span>)
<span class="co">#&gt; [1] TRUE</span></code></pre></li>
<li><p><code>file.append(file1, file2)</code> 追加文件 <code>file2</code> 的内容到文件 <code>file1</code> 上</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span>(<span class="op">!</span><span class="kw">dir.exists</span>(<span class="dt">paths =</span> <span class="st">&#39;data/&#39;</span>)) <span class="kw">dir.create</span>(<span class="dt">path =</span> <span class="st">&#39;data/&#39;</span>)
<span class="co"># 创建两个临时文件</span>
<span class="co"># file.create(c(&#39;data/tmp1.md&#39;,&#39;data/tmp2.md&#39;))</span>
<span class="co"># 写入内容</span>
<span class="kw">cat</span>(<span class="st">&quot;AAA</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">file =</span> <span class="st">&#39;data/tmp1.md&#39;</span>)
<span class="kw">cat</span>(<span class="st">&quot;BBB</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">file =</span> <span class="st">&#39;data/tmp2.md&#39;</span>)
<span class="co"># 追加文件</span>
<span class="kw">file.append</span>(<span class="dt">file1 =</span> <span class="st">&#39;data/tmp1.md&#39;</span>, <span class="dt">file2 =</span> <span class="st">&#39;data/tmp2.md&#39;</span>)
<span class="co">#&gt; [1] TRUE</span>
<span class="co"># 展示文件内容</span>
<span class="kw">readLines</span>(<span class="st">&#39;data/tmp1.md&#39;</span>)
<span class="co">#&gt; [1] &quot;AAA&quot; &quot;BBB&quot;</span></code></pre></li>
<li><p><code>file.copy(from, to, overwrite = recursive, recursive = FALSE,copy.mode = TRUE, copy.date = FALSE)</code> 复制文件，参考 <a href="https://blog.csdn.net/wzj_110/article/details/86497860" class="uri">https://blog.csdn.net/wzj_110/article/details/86497860</a></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.copy</span>(<span class="dt">from =</span> <span class="st">&#39;Makefile&#39;</span>, <span class="dt">to =</span> <span class="st">&#39;data/Makefile&#39;</span>)
<span class="co">#&gt; [1] FALSE</span></code></pre></li>
<li><p><code>file.symlink(from, to)</code> 创建符号链接 <code>file.link(from, to)</code> 创建硬链接</p></li>
<li><p><code>Sys.junction(from, to)</code> windows 平台上的函数，提供类似符号链接的功能</p></li>
<li><p><code>Sys.readlink(paths)</code> 读取文件的符号链接（软链接）</p></li>
<li><p><code>choose.files</code> 在 Windows 环境下交互式地选择一个或多个文件，所以该函数只运行于 Windows 环境</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 选择 zip 格式的压缩文件或其它</span>
<span class="cf">if</span> (<span class="kw">interactive</span>())
     <span class="kw">choose.files</span>(<span class="dt">filters =</span> Filters[<span class="kw">c</span>(<span class="st">&quot;zip&quot;</span>, <span class="st">&quot;All&quot;</span>),])</code></pre>
<p><code>Filters</code> 参数传递一个矩阵，用来描述或标记R识别的文件类型，上面这个例子就能筛选出 zip 格式的文件</p></li>
<li><p><code>download.file</code> 文件下载</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">download.file</span>(<span class="dt">url =</span> <span class="st">&#39;https://mirrors.tuna.tsinghua.edu.cn/CRAN/src/base/R-latest.tar.gz&#39;</span>,
              <span class="dt">destfile =</span> <span class="st">&#39;data/R-latest.tar.gz&#39;</span>, <span class="dt">method =</span> <span class="st">&#39;auto&#39;</span>)</code></pre></li>
</ol>
</div>
<div id="compression" class="section level2">
<h2><span class="header-section-number">3.3</span> 压缩文件</h2>
<p>tar 和 zip 是两种常见的压缩文件工具，具有免费和跨平台的特点，因此应用范围广<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>。 R 内对应的压缩与解压缩命令是 <code>tar/untar</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tar</span>(tarfile, <span class="dt">files =</span> <span class="ot">NULL</span>,
    <span class="dt">compression =</span> <span class="kw">c</span>(<span class="st">&quot;none&quot;</span>, <span class="st">&quot;gzip&quot;</span>, <span class="st">&quot;bzip2&quot;</span>, <span class="st">&quot;xz&quot;</span>),
    <span class="dt">compression_level =</span> <span class="dv">6</span>, <span class="dt">tar =</span> <span class="kw">Sys.getenv</span>(<span class="st">&quot;tar&quot;</span>),
    <span class="dt">extra_flags =</span> <span class="st">&quot;&quot;</span>)</code></pre>
<p>比较常用的压缩文件格式是 <code>.tar.gz</code> 和 <code>.tar.bz2</code>，将目录 <code>_book/</code>及其文件分别压缩成 <code>_book.tar.gz</code> 和 <code>_book.tar.bz2</code> 压缩包的名字可以任意取，后者压缩比率高。<code>.tar.xz</code> 的压缩比率最高，需要确保系统中安装了 gzip，bzip2 和 xz-utils 软件，R 软件自带的 tar 软件来自 <a href="https://github.com/rwinlib/rtools35">Rtools</a><a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>，我们可以通过设置系统环境变量 <code>Sys.setenv(tar="path/to/tar")</code> 指定外部 tar。<code>tar</code> 实际支持的压缩类型只有 <code>.tar.gz</code><a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>。<code>zip/unzip</code> 压缩与解压缩就不赘述了。</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 打包目录 _book</span>
<span class="kw">tar</span>(<span class="dt">tarfile =</span> <span class="st">&#39;data/_book.tar&#39;</span>, <span class="dt">files =</span> <span class="st">&#39;_book&#39;</span>, <span class="dt">compression =</span> <span class="st">&#39;none&#39;</span>)
<span class="co"># 文件压缩成 _book.xz 格式</span>
<span class="kw">tar</span>(<span class="dt">tarfile =</span> <span class="st">&#39;data/_book.tar.xz&#39;</span>, <span class="dt">files =</span> <span class="st">&#39;data/_book&#39;</span>, <span class="dt">compression =</span> <span class="st">&#39;xz&#39;</span>)
<span class="co"># tar -cf data/_book.tar _book 然后 xz -z data/_book.tar.xz data/_book.tar</span>
<span class="co"># 或者一次压缩到位 tar -Jcf data/_book.tar.xz _book/</span>

<span class="co"># 解压 xz -d data/_book.tar.xz 再次解压 tar -xf data/_book.tar</span>
<span class="co"># 或者一次解压 tar -Jxf data/_book.tar.xz</span>

<span class="co"># 文件压缩成 _book.tar.gz 格式</span>
<span class="co"># tar -czf data/_book.tar.gz _book</span>
<span class="kw">tar</span>(<span class="dt">tarfile =</span> <span class="st">&#39;data/_book.tar.gz&#39;</span>, <span class="dt">files =</span> <span class="st">&#39;_book&#39;</span>, <span class="dt">compression =</span> <span class="st">&#39;gzip&#39;</span>)
<span class="co"># 解压 tar -xzf data/_book.tar.gz</span>

<span class="co"># 文件压缩成 .tar.bz2 格式</span>
<span class="co"># tar -cjf data/book2.tar.bz2 _book</span>
<span class="kw">tar</span>(<span class="dt">tarfile =</span> <span class="st">&#39;data/_book.tar.bz2&#39;</span>, <span class="dt">files =</span> <span class="st">&#39;_book&#39;</span>, <span class="dt">compression =</span> <span class="st">&#39;bzip2&#39;</span>)
<span class="co"># 解压 tar -xjf data/book2.tar.bz2</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">untar</span>(tarfile, <span class="dt">files =</span> <span class="ot">NULL</span>, <span class="dt">list =</span> <span class="ot">FALSE</span>, <span class="dt">exdir =</span> <span class="st">&quot;.&quot;</span>,
      <span class="dt">compressed =</span> <span class="ot">NA</span>, <span class="dt">extras =</span> <span class="ot">NULL</span>, <span class="dt">verbose =</span> <span class="ot">FALSE</span>,
      <span class="dt">restore_times =</span>  <span class="ot">TRUE</span>, <span class="dt">tar =</span> <span class="kw">Sys.getenv</span>(<span class="st">&quot;TAR&quot;</span>))</code></pre>
</div>
<div id="paths" class="section level2">
<h2><span class="header-section-number">3.4</span> 路径操作</h2>
<p>环境变量算是路径操作</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 获取环境变量</span>
<span class="kw">Sys.getenv</span>(<span class="st">&quot;PATH&quot;</span>)
<span class="co">#&gt; [1] &quot;C:\\Program Files\\R\\R-3.6.0\\bin\\x64;C:\\Rtools\\bin;C:\\Rtools\\mingw_64\\bin;C:\\Rtools\\mingw_32\\bin;C:\\Program Files\\Microsoft MPI\\Bin\\;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.2\\bin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.2\\libnvvp;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;D:\\Program Files\\qpdf-8.0.2\\bin;C:\\Program Files\\gs\\gs9.26\\bin;C:\\Users\\xy-huang\\AppData\\Local\\Programs\\orca;C:\\Program Files (x86)\\LyX 2.3\\Perl\\bin;D:\\Program Files (x86)\\optipng-0.7.7-win32;C:\\Program Files\\Inkscape;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs;C:\\Program Files\\PuTTY;C:\\Program Files\\Pandoc;C:\\Program Files\\Pandoc\\;D:\\Program Files (x86)\\bin;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\Program Files\\Docker Toolbox;C:\\Users\\xy-huang\\AppData\\Local\\atom\\bin;D:\\TinyTeX\\bin\\win32;C:\\Program Files\\JetBrains\\PyCharm 2018.3.4\\bin;;C:\\Users\\xy-huang\\AppData\\Roaming\\npm&quot;</span>
<span class="co"># 设置环境变量 Windows</span>
<span class="co"># Sys.setenv(R_GSCMD = &quot;C:/Program Files/gs/gs9.26/bin/gswin64c.exe&quot;)</span>
<span class="co"># 设置 pandoc 环境变量</span>
pandoc_path &lt;-<span class="st"> </span><span class="kw">Sys.getenv</span>(<span class="st">&quot;RSTUDIO_PANDOC&quot;</span>, <span class="ot">NA</span>)
<span class="cf">if</span> (<span class="kw">Sys.which</span>(<span class="st">&quot;pandoc&quot;</span>) <span class="op">==</span><span class="st"> &quot;&quot;</span> <span class="op">&amp;&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(pandoc_path)) {
  <span class="kw">Sys.setenv</span>(<span class="dt">PATH =</span> <span class="kw">paste</span>(
    <span class="kw">Sys.getenv</span>(<span class="st">&quot;PATH&quot;</span>), pandoc_path,
    <span class="dt">sep =</span> <span class="cf">if</span> (.Platform<span class="op">$</span>OS.type <span class="op">==</span><span class="st"> &quot;unix&quot;</span>) <span class="st">&quot;:&quot;</span> <span class="cf">else</span> <span class="st">&quot;;&quot;</span>
  ))
}</code></pre>
<p>操作文件路径</p>
<ol style="list-style-type: decimal">
<li><p><code>file.path</code> Construct Path to File</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.path</span>(<span class="st">&#39;./_book&#39;</span>)
<span class="co">#&gt; [1] &quot;./_book&quot;</span></code></pre></li>
<li><p><code>path.expand(path)</code> Expand File Paths</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">path.expand</span>(<span class="st">&#39;./_book&#39;</span>)
<span class="co">#&gt; [1] &quot;./_book&quot;</span>
<span class="kw">path.expand</span>(<span class="st">&#39;~&#39;</span>)
<span class="co">#&gt; [1] &quot;C:/Users/xy-huang/Documents&quot;</span></code></pre></li>
<li><p><code>normalizePath()</code> Express File Paths in Canonical Form</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">normalizePath</span>(<span class="st">&#39;~&#39;</span>)
<span class="co">#&gt; [1] &quot;C:\\Users\\xy-huang\\Documents&quot;</span>
<span class="kw">normalizePath</span>(<span class="st">&#39;./_book&#39;</span>)
<span class="co">#&gt; [1] &quot;C:\\Users\\xy-huang\\Desktop\\RGraphics\\_book&quot;</span></code></pre></li>
<li><p><code>shortPathName(path)</code> 只在 Windows 下可用，Express File Paths in Short Form</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cat</span>(<span class="kw">shortPathName</span>(<span class="kw">c</span>(<span class="kw">R.home</span>(), <span class="kw">tempdir</span>())), <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
<span class="co">#&gt; C:\PROGRA~1\R\R-36~1.0</span>
<span class="co">#&gt; C:\Users\xy-huang\AppData\Local\Temp\RTMPQ8~1</span></code></pre></li>
<li><p><code>Sys.glob</code> Wildcard Expansion on File Paths</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.glob</span>(<span class="kw">file.path</span>(<span class="kw">R.home</span>(), <span class="st">&quot;library&quot;</span>, <span class="st">&quot;*&quot;</span>, <span class="st">&quot;R&quot;</span>, <span class="st">&quot;*.rdx&quot;</span>)) 
<span class="co">#&gt;  [1] &quot;C:/PROGRA~1/R/R-36~1.0/library/KernSmooth/R/KernSmooth.rdx&quot;</span>
<span class="co">#&gt;  [2] &quot;C:/PROGRA~1/R/R-36~1.0/library/MASS/R/MASS.rdx&quot;            </span>
<span class="co">#&gt;  [3] &quot;C:/PROGRA~1/R/R-36~1.0/library/Matrix/R/Matrix.rdx&quot;        </span>
<span class="co">#&gt;  [4] &quot;C:/PROGRA~1/R/R-36~1.0/library/base/R/base.rdx&quot;            </span>
<span class="co">#&gt;  [5] &quot;C:/PROGRA~1/R/R-36~1.0/library/boot/R/boot.rdx&quot;            </span>
<span class="co">#&gt;  [6] &quot;C:/PROGRA~1/R/R-36~1.0/library/class/R/class.rdx&quot;          </span>
....</code></pre></li>
</ol>
</div>
<div id="find" class="section level2">
<h2><span class="header-section-number">3.5</span> 查找文件</h2>
<p><a href="https://github.com/r-lib/here">here</a> 包用来查找你的文件，查找文件、可执行文件的完整路径、R 包</p>
<ol style="list-style-type: decimal">
<li><p><code>Sys.which</code> Find Full Paths to Executables</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.which</span>(<span class="st">&#39;pandoc&#39;</span>)
<span class="co">#&gt;                                    pandoc </span>
<span class="co">#&gt; &quot;C:\\PROGRA~3\\CHOCOL~1\\bin\\pandoc.exe&quot;</span></code></pre></li>
<li><p><code>system.file</code> Find Names of R System Files</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.file</span>(<span class="st">&#39;CITATION&#39;</span>,<span class="dt">package =</span> <span class="st">&#39;base&#39;</span>)
<span class="co">#&gt; [1] &quot;C:/PROGRA~1/R/R-36~1.0/library/base/CITATION&quot;</span></code></pre></li>
<li><p><code>R.home</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># R 安装目录</span>
<span class="kw">R.home</span>()
<span class="co">#&gt; [1] &quot;C:/PROGRA~1/R/R-36~1.0&quot;</span>
<span class="co"># R执行文件目录</span>
<span class="kw">R.home</span>(<span class="st">&#39;bin&#39;</span>)
<span class="co">#&gt; [1] &quot;C:/PROGRA~1/R/R-36~1.0/bin/x64&quot;</span>
<span class="co"># 配置文件目录</span>
<span class="kw">R.home</span>(<span class="st">&#39;etc&#39;</span>)
<span class="co">#&gt; [1] &quot;C:/PROGRA~1/R/R-36~1.0/etc&quot;</span>
<span class="co"># R 基础扩展包存放目录</span>
<span class="kw">R.home</span>(<span class="st">&#39;library&#39;</span>)
<span class="co">#&gt; [1] &quot;C:/PROGRA~1/R/R-36~1.0/library&quot;</span></code></pre></li>
<li><p><code>.libPaths()</code> R 包存放的路径有哪些</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">.libPaths</span>()
<span class="co">#&gt; [1] &quot;D:/library&quot;                         &quot;C:/Program Files/R/R-3.6.0/library&quot;</span></code></pre></li>
<li><p><code>find.package</code> 查找R包所在目录</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">find.package</span>(<span class="dt">package =</span> <span class="st">&#39;MASS&#39;</span>)
<span class="co">#&gt; [1] &quot;D:/library/MASS&quot;</span></code></pre></li>
<li><p><code>file.exist</code> 检查文件是否存在</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.exists</span>(<span class="kw">paste</span>(<span class="kw">R.home</span>(<span class="st">&#39;etc&#39;</span>),<span class="st">&quot;Rprofile.site&quot;</span>,<span class="dt">sep =</span> .Platform<span class="op">$</span>file.sep))
<span class="co">#&gt; [1] TRUE</span></code></pre></li>
<li><p><code>apropos</code> 和 <code>find</code> 查找对象</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apropos</span>(what, <span class="dt">where =</span> <span class="ot">FALSE</span>, <span class="dt">ignore.case =</span> <span class="ot">TRUE</span>, <span class="dt">mode =</span> <span class="st">&quot;any&quot;</span>)
<span class="kw">find</span>(what, <span class="dt">mode =</span> <span class="st">&quot;any&quot;</span>, <span class="dt">numeric =</span> <span class="ot">FALSE</span>, <span class="dt">simple.words =</span> <span class="ot">TRUE</span>)</code></pre>
<p>匹配含有 find 的函数</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apropos</span>(<span class="st">&quot;find&quot;</span>)
<span class="co">#&gt;  [1] &quot;.find.package&quot;           &quot;find&quot;                   </span>
<span class="co">#&gt;  [3] &quot;Find&quot;                    &quot;find.package&quot;           </span>
<span class="co">#&gt;  [5] &quot;find_external_resources&quot; &quot;findClass&quot;              </span>
<span class="co">#&gt;  [7] &quot;findFunction&quot;            &quot;findInterval&quot;           </span>
<span class="co">#&gt;  [9] &quot;findLineNum&quot;             &quot;findMethod&quot;             </span>
<span class="co">#&gt; [11] &quot;findMethods&quot;             &quot;findMethodSignatures&quot;   </span>
<span class="co">#&gt; [13] &quot;findPackageEnv&quot;          &quot;findRestart&quot;            </span>
<span class="co">#&gt; [15] &quot;findUnique&quot;</span></code></pre>
<p>问号 <code>?</code> 加函数名搜索R软件内置函数的帮助文档，如 <code>?regrex</code>。如果不知道具体的函数名，可采用关键词搜索，如</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">help.search</span>(<span class="dt">keyword =</span> <span class="st">&quot;character&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;base&quot;</span>)</code></pre>
<p><code>browseEnv</code> 函数用来在浏览器中查看当前环境下，对象的列表，默认环境是 <code>sys.frame()</code></p>
</div>
<div id="permissions" class="section level2">
<h2><span class="header-section-number">3.6</span> 文件权限</h2>
<p>操作目录和文件的权限 Manipulation of Directories and File Permissions</p>
<ol style="list-style-type: decimal">
<li><p><code>dir.exists(paths)</code> 检查目录是否存在</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dir.exists</span>(<span class="kw">c</span>(<span class="st">&#39;./_book&#39;</span>,<span class="st">&#39;./book&#39;</span>))
<span class="co">#&gt; [1]  TRUE FALSE</span></code></pre></li>
<li><p><code>dir.create(path, showWarnings = TRUE, recursive = FALSE, mode = "0777")</code> 创建目录</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dir.create</span>(<span class="st">&#39;./_book/tmp&#39;</span>)</code></pre></li>
<li><p><code>Sys.chmod(paths, mode = "0777", use_umask = TRUE)</code> 修改权限</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.chmod</span>(<span class="st">&#39;./_book/tmp&#39;</span>)</code></pre></li>
<li><p><code>Sys.umask(mode = NA)</code></p></li>
</ol>
</div>
<div id="locale" class="section level2">
<h2><span class="header-section-number">3.7</span> 区域设置</h2>
<ol style="list-style-type: decimal">
<li><p><code>Sys.getlocale(category = "LC_ALL")</code> 查看当前区域设置</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.getlocale</span>(<span class="dt">category =</span> <span class="st">&quot;LC_ALL&quot;</span>)
<span class="co">#&gt; [1] &quot;LC_COLLATE=Chinese (Simplified)_China.936;LC_CTYPE=Chinese (Simplified)_China.936;LC_MONETARY=Chinese (Simplified)_China.936;LC_NUMERIC=C;LC_TIME=Chinese (Simplified)_China.936&quot;</span></code></pre></li>
<li><p><code>Sys.setlocale(category = "LC_ALL", locale = "")</code> 设置区域</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 默认设置</span>
<span class="kw">Sys.setlocale</span>(<span class="dt">category =</span> <span class="st">&quot;LC_ALL&quot;</span>, <span class="dt">locale =</span> <span class="st">&quot;&quot;</span>)
<span class="co">#&gt; [1] &quot;LC_COLLATE=Chinese (Simplified)_China.936;LC_CTYPE=Chinese (Simplified)_China.936;LC_MONETARY=Chinese (Simplified)_China.936;LC_NUMERIC=C;LC_TIME=Chinese (Simplified)_China.936&quot;</span>
<span class="co"># 保存当前区域设置</span>
old &lt;-<span class="st"> </span><span class="kw">Sys.getlocale</span>()

<span class="kw">Sys.setlocale</span>(<span class="st">&quot;LC_MONETARY&quot;</span>, <span class="dt">locale =</span> <span class="st">&quot;&quot;</span>)
<span class="co">#&gt; [1] &quot;Chinese (Simplified)_China.936&quot;</span>
<span class="kw">Sys.localeconv</span>()
<span class="co">#&gt;     decimal_point     thousands_sep          grouping   int_curr_symbol </span>
<span class="co">#&gt;               &quot;.&quot;                &quot;&quot;                &quot;&quot;             &quot;CNY&quot; </span>
<span class="co">#&gt;   currency_symbol mon_decimal_point mon_thousands_sep      mon_grouping </span>
<span class="co">#&gt;              &quot;￥&quot;               &quot;.&quot;               &quot;,&quot;            &quot;\003&quot; </span>
<span class="co">#&gt;     positive_sign     negative_sign   int_frac_digits       frac_digits </span>
<span class="co">#&gt;                &quot;&quot;               &quot;-&quot;               &quot;2&quot;               &quot;2&quot; </span>
<span class="co">#&gt;     p_cs_precedes    p_sep_by_space     n_cs_precedes    n_sep_by_space </span>
<span class="co">#&gt;               &quot;1&quot;               &quot;0&quot;               &quot;1&quot;               &quot;0&quot; </span>
<span class="co">#&gt;       p_sign_posn       n_sign_posn </span>
<span class="co">#&gt;               &quot;4&quot;               &quot;4&quot;</span>
<span class="kw">Sys.setlocale</span>(<span class="st">&quot;LC_MONETARY&quot;</span>, <span class="st">&quot;de_AT&quot;</span>)
<span class="co">#&gt; Warning in Sys.setlocale(&quot;LC_MONETARY&quot;, &quot;de_AT&quot;): OS reports request to set</span>
<span class="co">#&gt; locale to &quot;de_AT&quot; cannot be honored</span>
<span class="co">#&gt; [1] &quot;&quot;</span>
<span class="kw">Sys.localeconv</span>()
<span class="co">#&gt;     decimal_point     thousands_sep          grouping   int_curr_symbol </span>
<span class="co">#&gt;               &quot;.&quot;                &quot;&quot;                &quot;&quot;             &quot;CNY&quot; </span>
<span class="co">#&gt;   currency_symbol mon_decimal_point mon_thousands_sep      mon_grouping </span>
<span class="co">#&gt;              &quot;￥&quot;               &quot;.&quot;               &quot;,&quot;            &quot;\003&quot; </span>
<span class="co">#&gt;     positive_sign     negative_sign   int_frac_digits       frac_digits </span>
<span class="co">#&gt;                &quot;&quot;               &quot;-&quot;               &quot;2&quot;               &quot;2&quot; </span>
<span class="co">#&gt;     p_cs_precedes    p_sep_by_space     n_cs_precedes    n_sep_by_space </span>
<span class="co">#&gt;               &quot;1&quot;               &quot;0&quot;               &quot;1&quot;               &quot;0&quot; </span>
<span class="co">#&gt;       p_sign_posn       n_sign_posn </span>
<span class="co">#&gt;               &quot;4&quot;               &quot;4&quot;</span>

<span class="co"># 恢复区域设置</span>
<span class="kw">Sys.setlocale</span>(<span class="dt">locale =</span> old)
<span class="co">#&gt; Warning in Sys.setlocale(locale = old): OS reports request to set locale to</span>
<span class="co">#&gt; &quot;LC_COLLATE=Chinese (Simplified)_China.936;LC_CTYPE=Chinese (Simplified)_China.</span>
<span class="co">#&gt; 936;LC_MONETARY=Chinese (Simplified)_China.936;LC_NUMERIC=C;LC_TIME=Chinese</span>
<span class="co">#&gt; (Simplified)_China.936&quot; cannot be honored</span>
<span class="co">#&gt; [1] &quot;&quot;</span></code></pre></li>
<li><p><code>Sys.localeconv()</code> 当前区域设置下，数字和货币的表示</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.localeconv</span>()
<span class="co">#&gt;     decimal_point     thousands_sep          grouping   int_curr_symbol </span>
<span class="co">#&gt;               &quot;.&quot;                &quot;&quot;                &quot;&quot;             &quot;CNY&quot; </span>
<span class="co">#&gt;   currency_symbol mon_decimal_point mon_thousands_sep      mon_grouping </span>
<span class="co">#&gt;              &quot;￥&quot;               &quot;.&quot;               &quot;,&quot;            &quot;\003&quot; </span>
<span class="co">#&gt;     positive_sign     negative_sign   int_frac_digits       frac_digits </span>
<span class="co">#&gt;                &quot;&quot;               &quot;-&quot;               &quot;2&quot;               &quot;2&quot; </span>
<span class="co">#&gt;     p_cs_precedes    p_sep_by_space     n_cs_precedes    n_sep_by_space </span>
<span class="co">#&gt;               &quot;1&quot;               &quot;0&quot;               &quot;1&quot;               &quot;0&quot; </span>
<span class="co">#&gt;       p_sign_posn       n_sign_posn </span>
<span class="co">#&gt;               &quot;4&quot;               &quot;4&quot;</span></code></pre>
<p>本地化信息</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">l10n_info</span>()
<span class="co">#&gt; $MBCS</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`UTF-8`</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`Latin-1`</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $codepage</span>
<span class="co">#&gt; [1] 936</span></code></pre></li>
</ol>
</div>
<div id="process" class="section level2">
<h2><span class="header-section-number">3.8</span> 进程管理</h2>
<p><a href="https://github.com/r-lib/ps">ps</a> 包用来查询进程信息</p>
<ul>
<li><p><code>Sys.getpid</code> 获取当前运行中的 R 控制台（会话）的进程 ID</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.getpid</span>()
<span class="co">#&gt; [1] 8088</span></code></pre></li>
<li><p><code>proc.time()</code> R 会话运行时间，常用于计算R程序在当前R控制台的运行时间</p>
<pre class="sourceCode r"><code class="sourceCode r">t1 &lt;-<span class="st"> </span><span class="kw">proc.time</span>()
tmp &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="fl">1e6</span>)
<span class="kw">proc.time</span>() <span class="op">-</span><span class="st"> </span>t1
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;    0.08    0.01    0.10</span></code></pre></li>
<li><p><code>system.time</code> 计算 R 表达式/程序块运行耗费的CPU时间</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>({
  <span class="kw">rnorm</span>(<span class="fl">1e6</span>)
}, <span class="dt">gcFirst =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;    0.08    0.00    0.08</span></code></pre></li>
<li><p><code>gc.time</code> 报告垃圾回收耗费的时间</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gc.time</span>()
<span class="co">#&gt; [1] 0 0 0 0 0</span></code></pre></li>
</ul>
</div>
<div id="system-commands" class="section level2">
<h2><span class="header-section-number">3.9</span> 系统命令</h2>
<p><code>system</code> 和 <code>system2</code> 调用系统命令，推荐使用后者，它更灵活更便携。此外，Jeroen Ooms 开发的 <a href="https://github.com/jeroen/sys">sys 包</a> 可看作 <code>base::system2</code> 的替代品</p>
<pre class="sourceCode r"><code class="sourceCode r">system &lt;-<span class="st"> </span><span class="cf">function</span>(...) <span class="kw">cat</span>(base<span class="op">::</span><span class="kw">system</span>(..., <span class="dt">intern =</span> <span class="ot">TRUE</span>), <span class="dt">sep =</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)
system2 &lt;-<span class="st"> </span><span class="cf">function</span>(...) <span class="kw">cat</span>(base<span class="op">::</span><span class="kw">system2</span>(..., <span class="dt">stdout =</span> <span class="ot">TRUE</span>), <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system</span>(<span class="dt">command =</span> <span class="st">&quot;xelatex --version&quot;</span>)
<span class="co">#&gt; XeTeX 3.14159265-2.6-0.999991 (TeX Live 2019/W32TeX)</span>
<span class="co">#&gt; kpathsea version 6.3.1</span>
<span class="co">#&gt; Copyright 2019 SIL International, Jonathan Kew and Khaled Hosny.</span>
<span class="co">#&gt; There is NO warranty.  Redistribution of this software is</span>
<span class="co">#&gt; covered by the terms of both the XeTeX copyright and</span>
<span class="co">#&gt; the Lesser GNU General Public License.</span>
<span class="co">#&gt; For more information about these matters, see the file</span>
<span class="co">#&gt; named COPYING and the XeTeX source.</span>
<span class="co">#&gt; Primary author of XeTeX: Jonathan Kew.</span>
<span class="co">#&gt; Compiled with ICU version 63.1; using 63.1</span>
<span class="co">#&gt; Compiled with zlib version 1.2.11; using 1.2.11</span>
<span class="co">#&gt; Compiled with FreeType2 version 2.9.1; using 2.9.1</span>
<span class="co">#&gt; Compiled with Graphite2 version 1.3.13; using 1.3.13</span>
<span class="co">#&gt; Compiled with HarfBuzz version 2.3.1; using 2.3.1</span>
<span class="co">#&gt; Compiled with libpng version 1.6.36; using 1.6.36</span>
<span class="co">#&gt; Compiled with poppler version 0.68.0</span>
<span class="co">#&gt; Compiled with fontconfig version 2.13.1; using 2.13.1</span>
<span class="kw">system2</span>(<span class="dt">command =</span> <span class="st">&#39;pdflatex&#39;</span>, <span class="dt">args =</span> <span class="st">&#39;--version&#39;</span>)
<span class="co">#&gt; pdfTeX 3.14159265-2.6-1.40.20 (TeX Live 2019/W32TeX)</span>
<span class="co">#&gt; kpathsea version 6.3.1</span>
<span class="co">#&gt; Copyright 2019 Han The Thanh (pdfTeX) et al.</span>
<span class="co">#&gt; There is NO warranty.  Redistribution of this software is</span>
<span class="co">#&gt; covered by the terms of both the pdfTeX copyright and</span>
<span class="co">#&gt; the Lesser GNU General Public License.</span>
<span class="co">#&gt; For more information about these matters, see the file</span>
<span class="co">#&gt; named COPYING and the pdfTeX source.</span>
<span class="co">#&gt; Primary author of pdfTeX: Han The Thanh (pdfTeX) et al.</span>
<span class="co">#&gt; Compiled with libpng 1.6.36; using libpng 1.6.36</span>
<span class="co">#&gt; Compiled with zlib 1.2.11; using zlib 1.2.11</span>
<span class="co">#&gt; Compiled with xpdf version 4.01</span></code></pre>
</div>
<div id="time" class="section level2">
<h2><span class="header-section-number">3.10</span> 时间管理</h2>
<ol style="list-style-type: decimal">
<li><p><code>Sys.timezone</code> 获取时区信息</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.timezone</span>(<span class="dt">location =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; [1] &quot;Asia/Taipei&quot;</span></code></pre></li>
<li><p><code>Sys.time</code> 系统时间，可以给定时区下，显示当前时间，精确到秒，返回数据类型为 <code>POSIXct</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 此时美国洛杉矶时间</span>
<span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="dt">tz =</span> <span class="st">&#39;America/Los_Angeles&#39;</span>, <span class="dt">usetz =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; [1] &quot;2019-05-26 09:47:57 PDT&quot;</span>
<span class="co"># 此时加拿大东部时间</span>
<span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="dt">tz =</span> <span class="st">&#39;Canada/Eastern&#39;</span>, <span class="dt">usetz =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; [1] &quot;2019-05-26 12:47:57 EDT&quot;</span></code></pre></li>
<li><p><code>Sys.Date</code> 显示当前时区下的日期，精确到日，返回数据类型为 <code>date</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.Date</span>()
<span class="co">#&gt; [1] &quot;2019-05-27&quot;</span></code></pre></li>
<li><p><code>date</code> 返回当前系统日期和时间，数据类型是字符串</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">date</span>()
<span class="co">#&gt; [1] &quot;Mon May 27 00:47:57 2019&quot;</span>
<span class="co">## 也可以这样表示</span>
<span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%a %b %d %H:%M:%S %Y&quot;</span>)
<span class="co">#&gt; [1] &quot;周一 5月 27 00:47:57 2019&quot;</span></code></pre></li>
<li><p><code>as.POSIX*</code> 是一个 Date-time 转换函数</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.POSIXlt</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;GMT&quot;</span>) <span class="co"># the current time in GMT</span>
<span class="co">#&gt; [1] &quot;2019-05-26 16:47:57 GMT&quot;</span></code></pre></li>
<li><p>时间计算</p>
<pre class="sourceCode r"><code class="sourceCode r">(z &lt;-<span class="st"> </span><span class="kw">Sys.time</span>())             <span class="co"># the current date, as class &quot;POSIXct&quot;</span>
<span class="co">#&gt; [1] &quot;2019-05-27 00:48:01 CST&quot;</span>

<span class="kw">Sys.time</span>() <span class="op">-</span><span class="st"> </span><span class="dv">3600</span>             <span class="co"># an hour ago</span>
<span class="co">#&gt; [1] &quot;2019-05-26 23:48:01 CST&quot;</span></code></pre></li>
<li><p><code>.leap.seconds</code> 是内置的日期序列</p>
<pre class="sourceCode r"><code class="sourceCode r">.leap.seconds
<span class="co">#&gt;  [1] &quot;1972-07-01 08:00:00 CST&quot; &quot;1973-01-01 08:00:00 CST&quot;</span>
<span class="co">#&gt;  [3] &quot;1974-01-01 08:00:00 CST&quot; &quot;1975-01-01 08:00:00 CST&quot;</span>
<span class="co">#&gt;  [5] &quot;1976-01-01 08:00:00 CST&quot; &quot;1977-01-01 08:00:00 CST&quot;</span>
<span class="co">#&gt;  [7] &quot;1978-01-01 08:00:00 CST&quot; &quot;1979-01-01 08:00:00 CST&quot;</span>
<span class="co">#&gt;  [9] &quot;1980-01-01 08:00:00 CST&quot; &quot;1981-07-01 08:00:00 CST&quot;</span>
<span class="co">#&gt; [11] &quot;1982-07-01 08:00:00 CST&quot; &quot;1983-07-01 08:00:00 CST&quot;</span>
<span class="co">#&gt; [13] &quot;1985-07-01 08:00:00 CST&quot; &quot;1988-01-01 08:00:00 CST&quot;</span>
<span class="co">#&gt; [15] &quot;1990-01-01 08:00:00 CST&quot; &quot;1991-01-01 08:00:00 CST&quot;</span>
<span class="co">#&gt; [17] &quot;1992-07-01 08:00:00 CST&quot; &quot;1993-07-01 08:00:00 CST&quot;</span>
<span class="co">#&gt; [19] &quot;1994-07-01 08:00:00 CST&quot; &quot;1996-01-01 08:00:00 CST&quot;</span>
<span class="co">#&gt; [21] &quot;1997-07-01 08:00:00 CST&quot; &quot;1999-01-01 08:00:00 CST&quot;</span>
<span class="co">#&gt; [23] &quot;2006-01-01 08:00:00 CST&quot; &quot;2009-01-01 08:00:00 CST&quot;</span>
<span class="co">#&gt; [25] &quot;2012-07-01 08:00:00 CST&quot; &quot;2015-07-01 08:00:00 CST&quot;</span>
<span class="co">#&gt; [27] &quot;2017-01-01 08:00:00 CST&quot;</span></code></pre>
<p>计算日期对应的星期<code>weekdays</code>，月 <code>months</code> 和季度 <code>quarters</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">weekdays</span>(.leap.seconds)
<span class="co">#&gt;  [1] &quot;星期六&quot; &quot;星期一&quot; &quot;星期二&quot; &quot;星期三&quot; &quot;星期四&quot; &quot;星期六&quot; &quot;星期日&quot; &quot;星期一&quot;</span>
<span class="co">#&gt;  [9] &quot;星期二&quot; &quot;星期三&quot; &quot;星期四&quot; &quot;星期五&quot; &quot;星期一&quot; &quot;星期五&quot; &quot;星期一&quot; &quot;星期二&quot;</span>
<span class="co">#&gt; [17] &quot;星期三&quot; &quot;星期四&quot; &quot;星期五&quot; &quot;星期一&quot; &quot;星期二&quot; &quot;星期五&quot; &quot;星期日&quot; &quot;星期四&quot;</span>
<span class="co">#&gt; [25] &quot;星期日&quot; &quot;星期三&quot; &quot;星期日&quot;</span>
<span class="kw">months</span>(.leap.seconds)
<span class="co">#&gt;  [1] &quot;七月&quot; &quot;一月&quot; &quot;一月&quot; &quot;一月&quot; &quot;一月&quot; &quot;一月&quot; &quot;一月&quot; &quot;一月&quot; &quot;一月&quot; &quot;七月&quot;</span>
<span class="co">#&gt; [11] &quot;七月&quot; &quot;七月&quot; &quot;七月&quot; &quot;一月&quot; &quot;一月&quot; &quot;一月&quot; &quot;七月&quot; &quot;七月&quot; &quot;七月&quot; &quot;一月&quot;</span>
<span class="co">#&gt; [21] &quot;七月&quot; &quot;一月&quot; &quot;一月&quot; &quot;一月&quot; &quot;七月&quot; &quot;七月&quot; &quot;一月&quot;</span>
<span class="kw">quarters</span>(.leap.seconds)
<span class="co">#&gt;  [1] &quot;Q3&quot; &quot;Q1&quot; &quot;Q1&quot; &quot;Q1&quot; &quot;Q1&quot; &quot;Q1&quot; &quot;Q1&quot; &quot;Q1&quot; &quot;Q1&quot; &quot;Q3&quot; &quot;Q3&quot; &quot;Q3&quot; &quot;Q3&quot; &quot;Q1&quot; &quot;Q1&quot;</span>
<span class="co">#&gt; [16] &quot;Q1&quot; &quot;Q3&quot; &quot;Q3&quot; &quot;Q3&quot; &quot;Q1&quot; &quot;Q3&quot; &quot;Q1&quot; &quot;Q1&quot; &quot;Q1&quot; &quot;Q3&quot; &quot;Q3&quot; &quot;Q1&quot;</span></code></pre></li>
<li><p><code>Sys.setFileTime()</code> 使用系统调用 system call 设置文件或目录的时间</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 修改时间前</span>
<span class="kw">file.info</span>(<span class="st">&#39;./_common.R&#39;</span>)
<span class="co">#&gt;             size isdir mode               mtime               ctime</span>
<span class="co">#&gt; ./_common.R 2978 FALSE  666 2019-05-27 00:39:45 2019-01-18 17:00:40</span>
<span class="co">#&gt;                           atime exe</span>
<span class="co">#&gt; ./_common.R 2019-05-27 00:33:35  no</span>
<span class="co"># 修改时间后，对比一下</span>
<span class="kw">Sys.setFileTime</span>(<span class="dt">path =</span> <span class="st">&#39;./_common.R&#39;</span>, <span class="dt">time =</span> <span class="kw">Sys.time</span>())
<span class="kw">file.info</span>(<span class="st">&#39;./_common.R&#39;</span>)
<span class="co">#&gt;             size isdir mode               mtime               ctime</span>
<span class="co">#&gt; ./_common.R 2978 FALSE  666 2019-05-27 00:48:05 2019-01-18 17:00:40</span>
<span class="co">#&gt;                           atime exe</span>
<span class="co">#&gt; ./_common.R 2019-05-27 00:33:35  no</span></code></pre></li>
<li><p><code>strptime</code> 用于字符串与 <code>POSIXlt</code>、 <code>POSIXct</code> 类对象之间的转化，<code>format</code> 默认 <code>tz = ""</code> 且 <code>usetz = TRUE</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 存放时区信息的数据库所在目录</span>
<span class="kw">list.files</span>(<span class="kw">file.path</span>(<span class="kw">R.home</span>(<span class="st">&quot;share&quot;</span>), <span class="st">&quot;zoneinfo&quot;</span>))
<span class="co">#&gt;  [1] &quot;Africa&quot;      &quot;America&quot;     &quot;Antarctica&quot;  &quot;Arctic&quot;      &quot;Asia&quot;       </span>
<span class="co">#&gt;  [6] &quot;Atlantic&quot;    &quot;Australia&quot;   &quot;Brazil&quot;      &quot;Canada&quot;      &quot;CET&quot;        </span>
<span class="co">#&gt; [11] &quot;Chile&quot;       &quot;CST6CDT&quot;     &quot;Cuba&quot;        &quot;EET&quot;         &quot;Egypt&quot;      </span>
<span class="co">#&gt; [16] &quot;Eire&quot;        &quot;EST&quot;         &quot;EST5EDT&quot;     &quot;Etc&quot;         &quot;Europe&quot;     </span>
<span class="co">#&gt; [21] &quot;GB&quot;          &quot;GB-Eire&quot;     &quot;GMT&quot;         &quot;GMT-0&quot;       &quot;GMT+0&quot;      </span>
<span class="co">#&gt; [26] &quot;GMT0&quot;        &quot;Greenwich&quot;   &quot;Hongkong&quot;    &quot;HST&quot;         &quot;Iceland&quot;    </span>
<span class="co">#&gt; [31] &quot;Indian&quot;      &quot;Iran&quot;        &quot;iso3166.tab&quot; &quot;Israel&quot;      &quot;Jamaica&quot;    </span>
<span class="co">#&gt; [36] &quot;Japan&quot;       &quot;Kwajalein&quot;   &quot;Libya&quot;       &quot;MET&quot;         &quot;Mexico&quot;     </span>
<span class="co">#&gt; [41] &quot;MST&quot;         &quot;MST7MDT&quot;     &quot;Navajo&quot;      &quot;NZ&quot;          &quot;NZ-CHAT&quot;    </span>
<span class="co">#&gt; [46] &quot;Pacific&quot;     &quot;Poland&quot;      &quot;Portugal&quot;    &quot;PRC&quot;         &quot;PST8PDT&quot;    </span>
<span class="co">#&gt; [51] &quot;ROC&quot;         &quot;ROK&quot;         &quot;Singapore&quot;   &quot;Turkey&quot;      &quot;UCT&quot;        </span>
<span class="co">#&gt; [56] &quot;Universal&quot;   &quot;US&quot;          &quot;UTC&quot;         &quot;VERSION&quot;     &quot;W-SU&quot;       </span>
<span class="co">#&gt; [61] &quot;WET&quot;         &quot;zone.tab&quot;    &quot;Zulu&quot;</span>
<span class="co"># 比较不同的打印方式</span>
<span class="kw">strptime</span>(<span class="kw">Sys.time</span>(), <span class="dt">format =</span><span class="st">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, <span class="dt">tz =</span> <span class="st">&quot;Asia/Taipei&quot;</span>)
<span class="co">#&gt; [1] &quot;2019-05-27 00:48:05 CST&quot;</span>
<span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="dt">format =</span> <span class="st">&quot;%Y-%m-%d %H:%M:%S&quot;</span>) <span class="co"># 默认情形</span>
<span class="co">#&gt; [1] &quot;2019-05-27 00:48:05&quot;</span>
<span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="dt">format =</span> <span class="st">&quot;%Y-%m-%d %H:%M:%S&quot;</span>, <span class="dt">tz =</span> <span class="st">&quot;Asia/Taipei&quot;</span>, <span class="dt">usetz =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; [1] &quot;2019-05-27 00:48:05 CST&quot;</span></code></pre></li>
<li><p>设置时区</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.timezone</span>()
<span class="co">#&gt; [1] &quot;Asia/Taipei&quot;</span>
<span class="kw">Sys.setenv</span>(<span class="dt">TZ =</span> <span class="st">&quot;Asia/Shanghai&quot;</span>)
<span class="kw">Sys.timezone</span>()
<span class="co">#&gt; [1] &quot;Asia/Shanghai&quot;</span></code></pre>
<p>全局修改，在文件 C:/PROGRA<sub>1/R/R-36</sub>1.0/etc/Rprofile.site 内添加<code>Sys.setenv(TZ="Asia/Shanghai")</code>。 局部修改，就是在本地R项目下，创建 <code>.Rprofile</code>，然后同样添加 <code>Sys.setenv(TZ="Asia/Shanghai")</code>。</p></li>
</ol>
</div>
<div id="package" class="section level2">
<h2><span class="header-section-number">3.11</span> R 包管理</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">apropos</span>(<span class="st">&#39;package&#39;</span>)
<span class="co">#&gt;  [1] &quot;$.package_version&quot;              &quot;.find.package&quot;                 </span>
<span class="co">#&gt;  [3] &quot;.packages&quot;                      &quot;.packageStartupMessage&quot;        </span>
<span class="co">#&gt;  [5] &quot;.path.package&quot;                  &quot;as.package_version&quot;            </span>
<span class="co">#&gt;  [7] &quot;aspell_package_C_files&quot;         &quot;aspell_package_R_files&quot;        </span>
<span class="co">#&gt;  [9] &quot;aspell_package_Rd_files&quot;        &quot;aspell_package_vignettes&quot;      </span>
<span class="co">#&gt; [11] &quot;available.packages&quot;             &quot;CRAN.packages&quot;                 </span>
<span class="co">#&gt; [13] &quot;download.packages&quot;              &quot;find.package&quot;                  </span>
<span class="co">#&gt; [15] &quot;findPackageEnv&quot;                 &quot;format.packageInfo&quot;            </span>
<span class="co">#&gt; [17] &quot;getClassPackage&quot;                &quot;getPackageName&quot;                </span>
<span class="co">#&gt; [19] &quot;install.packages&quot;               &quot;installed.packages&quot;            </span>
<span class="co">#&gt; [21] &quot;is.package_version&quot;             &quot;make.packages.html&quot;            </span>
<span class="co">#&gt; [23] &quot;methodsPackageMetaName&quot;         &quot;new.packages&quot;                  </span>
<span class="co">#&gt; [25] &quot;old.packages&quot;                   &quot;package.skeleton&quot;              </span>
<span class="co">#&gt; [27] &quot;package_version&quot;                &quot;packageDate&quot;                   </span>
<span class="co">#&gt; [29] &quot;packageDescription&quot;             &quot;packageEvent&quot;                  </span>
<span class="co">#&gt; [31] &quot;packageHasNamespace&quot;            &quot;packageName&quot;                   </span>
<span class="co">#&gt; [33] &quot;packageNotFoundError&quot;           &quot;packageSlot&quot;                   </span>
<span class="co">#&gt; [35] &quot;packageSlot&lt;-&quot;                  &quot;packageStartupMessage&quot;         </span>
<span class="co">#&gt; [37] &quot;packageStatus&quot;                  &quot;packageVersion&quot;                </span>
<span class="co">#&gt; [39] &quot;path.package&quot;                   &quot;path_package&quot;                  </span>
<span class="co">#&gt; [41] &quot;print.packageInfo&quot;              &quot;promptPackage&quot;                 </span>
<span class="co">#&gt; [43] &quot;remove.packages&quot;                &quot;setPackageName&quot;                </span>
<span class="co">#&gt; [45] &quot;suppressPackageStartupMessages&quot; &quot;update.packages&quot;</span></code></pre>
<ol style="list-style-type: decimal">
<li><p><code>.packages(T)</code> 已安装的 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">.packages</span>(T) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">length</span>()
<span class="co">#&gt; [1] 308</span></code></pre></li>
<li><p><code>available.packages</code> 查询可用的 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">available.packages</span>()[,<span class="st">&quot;Package&quot;</span>] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()
<span class="co">#&gt;            A3        abbyyR           abc      abc.data       ABC.RAP </span>
<span class="co">#&gt;          &quot;A3&quot;      &quot;abbyyR&quot;         &quot;abc&quot;    &quot;abc.data&quot;     &quot;ABC.RAP&quot; </span>
<span class="co">#&gt;   ABCanalysis </span>
<span class="co">#&gt; &quot;ABCanalysis&quot;</span></code></pre>
<p>查询 repos 的 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r">rforge &lt;-<span class="st"> </span><span class="kw">available.packages</span>(<span class="dt">repos =</span> <span class="st">&quot;https://r-forge.r-project.org/&quot;</span>)
cran &lt;-<span class="st"> </span><span class="kw">available.packages</span>(<span class="dt">repos =</span> <span class="st">&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;</span>)
<span class="kw">setdiff</span>(rforge[, <span class="st">&quot;Package&quot;</span>], cran[, <span class="st">&quot;Package&quot;</span>])</code></pre></li>
<li><p><code>download.packages</code> 下载 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">download.packages</span>(<span class="st">&quot;Rbooks&quot;</span>, <span class="dt">destdir =</span> <span class="st">&quot;~/&quot;</span>, <span class="dt">repos =</span> <span class="st">&quot;https://r-forge.r-project.org/&quot;</span>)</code></pre></li>
<li><p><code>install.packages</code> 安装 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;rmarkdown&quot;</span>)</code></pre></li>
<li><p><code>installed.packages</code> 已安装的 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">installed.packages</span>(<span class="dt">fields =</span> <span class="kw">c</span>(<span class="st">&quot;Package&quot;</span>,<span class="st">&quot;Version&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</code></pre></li>
<li><p><code>remove.packages</code> 卸载/删除/移除已安装的R包</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">remove.packages</span>(<span class="st">&#39;rmarkdown&#39;</span>)</code></pre></li>
<li><p><code>update.packages</code> 更新已安装的 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">update.packages</span>(<span class="dt">ask =</span> <span class="ot">FALSE</span>)</code></pre></li>
<li><p><code>old.packages</code> 查看过时/可更新的 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">old.packages</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()
<span class="co">#&gt;           Package     LibPath      Installed Built   ReposVer</span>
<span class="co">#&gt; abind     &quot;abind&quot;     &quot;D:/library&quot; &quot;1.4-5&quot;   &quot;3.6.0&quot; &quot;1.4-7&quot; </span>
<span class="co">#&gt; bit64     &quot;bit64&quot;     &quot;D:/library&quot; &quot;0.9-7&quot;   &quot;3.6.0&quot; &quot;0.9-8&quot; </span>
<span class="co">#&gt; dichromat &quot;dichromat&quot; &quot;D:/library&quot; &quot;2.0-0&quot;   &quot;3.6.0&quot; &quot;2.0-1&quot; </span>
<span class="co">#&gt; foreach   &quot;foreach&quot;   &quot;D:/library&quot; &quot;1.4.4&quot;   &quot;3.6.0&quot; &quot;1.5.1&quot; </span>
<span class="co">#&gt; iterators &quot;iterators&quot; &quot;D:/library&quot; &quot;1.0.10&quot;  &quot;3.6.0&quot; &quot;1.0.11&quot;</span>
<span class="co">#&gt; maxLik    &quot;maxLik&quot;    &quot;D:/library&quot; &quot;1.3-6&quot;   &quot;3.6.0&quot; &quot;1.3-7&quot; </span>
<span class="co">#&gt;           Repository                                 </span>
<span class="co">#&gt; abind     &quot;https://r-forge.r-project.org/src/contrib&quot;</span>
<span class="co">#&gt; bit64     &quot;https://r-forge.r-project.org/src/contrib&quot;</span>
<span class="co">#&gt; dichromat &quot;https://r-forge.r-project.org/src/contrib&quot;</span>
<span class="co">#&gt; foreach   &quot;https://r-forge.r-project.org/src/contrib&quot;</span>
<span class="co">#&gt; iterators &quot;https://r-forge.r-project.org/src/contrib&quot;</span>
<span class="co">#&gt; maxLik    &quot;https://r-forge.r-project.org/src/contrib&quot;</span></code></pre></li>
<li><p><code>new.packages</code> 还没有安装的 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">new.packages</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()
<span class="co">#&gt; [1] &quot;A2&quot;          &quot;A3&quot;          &quot;a4Core&quot;      &quot;a4Reporting&quot; &quot;abbyyR&quot;     </span>
<span class="co">#&gt; [6] &quot;abc&quot;</span></code></pre></li>
<li><p><code>packageStatus</code> 查看已安装的 R 包状态，可更新、可下载等</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">packageStatus</span>()
<span class="co">#&gt; Number of installed packages:</span>
<span class="co">#&gt;                                     </span>
<span class="co">#&gt;                                       ok upgrade unavailable</span>
<span class="co">#&gt;   D:/library                         290      11           7</span>
<span class="co">#&gt;   C:/Program Files/R/R-3.6.0/library  27       2           0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Number of available packages (each package counted only once):</span>
<span class="co">#&gt;                                                        </span>
<span class="co">#&gt;                                                         installed</span>
<span class="co">#&gt;   https://mirrors.tuna.tsinghua.edu.cn/CRAN/src/contrib       274</span>
<span class="co">#&gt;   https://r-forge.r-project.org/src/contrib                    12</span>
<span class="co">#&gt;   https://inla.r-inla-download.org/R/stable/src/contrib         0</span>
<span class="co">#&gt;   https://nowosad.github.io/drat/src/contrib                    1</span>
<span class="co">#&gt;                                                        </span>
<span class="co">#&gt;                                                         not installed</span>
<span class="co">#&gt;   https://mirrors.tuna.tsinghua.edu.cn/CRAN/src/contrib         13800</span>
<span class="co">#&gt;   https://r-forge.r-project.org/src/contrib                      1248</span>
<span class="co">#&gt;   https://inla.r-inla-download.org/R/stable/src/contrib             1</span>
<span class="co">#&gt;   https://nowosad.github.io/drat/src/contrib                        0</span></code></pre></li>
<li><p><code>packageDescription</code> 查询 R 包描述信息</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">packageDescription</span>(<span class="st">&#39;rmarkdown&#39;</span>)
<span class="co">#&gt; Package: rmarkdown</span>
<span class="co">#&gt; Type: Package</span>
<span class="co">#&gt; Title: Dynamic Documents for R</span>
<span class="co">#&gt; Version: 1.13</span>
<span class="co">#&gt; Authors@R: c( person(&quot;JJ&quot;, &quot;Allaire&quot;, role = &quot;aut&quot;, email =</span>
<span class="co">#&gt;        &quot;jj@rstudio.com&quot;), person(&quot;Yihui&quot;, &quot;Xie&quot;, role = c(&quot;aut&quot;,</span>
....</code></pre></li>
<li><p>查询 R 包的依赖关系</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rmarkdown 依赖的 R 包</span>
tools<span class="op">::</span><span class="kw">package_dependencies</span>(<span class="st">&#39;rmarkdown&#39;</span>, <span class="dt">recursive =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; $rmarkdown</span>
<span class="co">#&gt;  [1] &quot;tools&quot;     &quot;utils&quot;     &quot;knitr&quot;     &quot;yaml&quot;      &quot;htmltools&quot; &quot;evaluate&quot; </span>
<span class="co">#&gt;  [7] &quot;base64enc&quot; &quot;jsonlite&quot;  &quot;mime&quot;      &quot;tinytex&quot;   &quot;xfun&quot;      &quot;methods&quot;  </span>
<span class="co">#&gt; [13] &quot;stringr&quot;   &quot;digest&quot;    &quot;Rcpp&quot;      &quot;highr&quot;     &quot;markdown&quot;  &quot;glue&quot;     </span>
<span class="co">#&gt; [19] &quot;magrittr&quot;  &quot;stringi&quot;   &quot;stats&quot;</span>
<span class="co"># 依赖 rmarkdown 的 R 包</span>
tools<span class="op">::</span><span class="kw">dependsOnPkgs</span>(<span class="st">&#39;rmarkdown&#39;</span>, <span class="dt">recursive =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; [1] &quot;blogdown&quot;  &quot;bookdown&quot;  &quot;pagedown&quot;  &quot;reprex&quot;    &quot;rticles&quot;   &quot;tufte&quot;    </span>
<span class="co">#&gt; [7] &quot;xaringan&quot;  &quot;tidyverse&quot;</span></code></pre>
<p>ggplot2 生态，仅列出以 gg 开头的 R 包</p>
<pre class="sourceCode r"><code class="sourceCode r">pdb &lt;-<span class="st"> </span><span class="kw">available.packages</span>()
gg &lt;-<span class="st"> </span>tools<span class="op">::</span><span class="kw">dependsOnPkgs</span>(<span class="st">&quot;ggplot2&quot;</span>, <span class="dt">recursive =</span> <span class="ot">FALSE</span>, <span class="dt">installed =</span> pdb)
<span class="kw">grep</span>(<span class="st">&quot;^gg&quot;</span>, gg, <span class="dt">value =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt;  [1] &quot;ggallin&quot;         &quot;ggalluvial&quot;      &quot;ggalt&quot;           &quot;gganimate&quot;      </span>
<span class="co">#&gt;  [5] &quot;ggasym&quot;          &quot;ggbeeswarm&quot;      &quot;ggbuildr&quot;        &quot;ggChernoff&quot;     </span>
<span class="co">#&gt;  [9] &quot;ggconf&quot;          &quot;ggcorrplot&quot;      &quot;ggdag&quot;           &quot;ggdark&quot;         </span>
<span class="co">#&gt; [13] &quot;ggdemetra&quot;       &quot;ggdendro&quot;        &quot;ggdistribute&quot;    &quot;ggdmc&quot;          </span>
<span class="co">#&gt; [17] &quot;ggedit&quot;          &quot;ggenealogy&quot;      &quot;ggetho&quot;          &quot;ggExtra&quot;        </span>
<span class="co">#&gt; [21] &quot;ggfan&quot;           &quot;ggfittext&quot;       &quot;ggfocus&quot;         &quot;ggforce&quot;        </span>
<span class="co">#&gt; [25] &quot;ggformula&quot;       &quot;ggfortify&quot;       &quot;gggenes&quot;         &quot;ggghost&quot;        </span>
<span class="co">#&gt; [29] &quot;ggguitar&quot;        &quot;gghalfnorm&quot;      &quot;gghighlight&quot;     &quot;ggimage&quot;        </span>
<span class="co">#&gt; [33] &quot;gginference&quot;     &quot;gginnards&quot;       &quot;ggiraph&quot;         &quot;ggiraphExtra&quot;   </span>
<span class="co">#&gt; [37] &quot;ggjoy&quot;           &quot;gglogo&quot;          &quot;ggloop&quot;          &quot;gglorenz&quot;       </span>
<span class="co">#&gt; [41] &quot;ggmap&quot;           &quot;ggmcmc&quot;          &quot;ggmosaic&quot;        &quot;ggmuller&quot;       </span>
<span class="co">#&gt; [45] &quot;ggnetwork&quot;       &quot;ggnewscale&quot;      &quot;ggnormalviolin&quot;  &quot;ggpage&quot;         </span>
<span class="co">#&gt; [49] &quot;ggparallel&quot;      &quot;ggparliament&quot;    &quot;ggperiodic&quot;      &quot;ggplotAssist&quot;   </span>
<span class="co">#&gt; [53] &quot;ggplotgui&quot;       &quot;ggplotify&quot;       &quot;ggpmisc&quot;         &quot;ggPMX&quot;          </span>
<span class="co">#&gt; [57] &quot;ggpol&quot;           &quot;ggpolypath&quot;      &quot;ggpubr&quot;          &quot;ggpval&quot;         </span>
<span class="co">#&gt; [61] &quot;ggQC&quot;            &quot;ggQQunif&quot;        &quot;ggquickeda&quot;      &quot;ggquiver&quot;       </span>
<span class="co">#&gt; [65] &quot;ggRandomForests&quot; &quot;ggraph&quot;          &quot;ggraptR&quot;         &quot;ggrasp&quot;         </span>
<span class="co">#&gt; [69] &quot;ggrepel&quot;         &quot;ggridges&quot;        &quot;ggROC&quot;           &quot;ggsci&quot;          </span>
<span class="co">#&gt; [73] &quot;ggseas&quot;          &quot;ggseqlogo&quot;       &quot;ggsignif&quot;        &quot;ggsn&quot;           </span>
<span class="co">#&gt; [77] &quot;ggsoccer&quot;        &quot;ggsolvencyii&quot;    &quot;ggsom&quot;           &quot;ggspatial&quot;      </span>
<span class="co">#&gt; [81] &quot;ggspectra&quot;       &quot;ggstance&quot;        &quot;ggstatsplot&quot;     &quot;ggswissmaps&quot;    </span>
<span class="co">#&gt; [85] &quot;ggtern&quot;          &quot;ggThemeAssist&quot;   &quot;ggthemes&quot;        &quot;ggTimeSeries&quot;   </span>
<span class="co">#&gt; [89] &quot;ggupset&quot;         &quot;ggvoronoi&quot;       &quot;ggwordcloud&quot;     &quot;ggplotFL&quot;</span></code></pre></li>
<li><p>重装R包，与 R 版本号保持一致</p>
<pre class="sourceCode r"><code class="sourceCode r">db &lt;-<span class="st"> </span><span class="kw">installed.packages</span>()
db &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(db, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
pkgs &lt;-<span class="st"> </span>db[db<span class="op">$</span>Built <span class="op">&lt;</span><span class="st"> </span><span class="kw">getRversion</span>(), <span class="st">&quot;Package&quot;</span>]
<span class="kw">install.packages</span>(pkgs)</code></pre></li>
</ol>
</div>
<div id="lookup-function" class="section level2">
<h2><span class="header-section-number">3.12</span> 查找函数</h2>
<p><a href="https://github.com/jimhester/lookup">lookup</a> R 函数完整定义，包括编译的代码，S3 和 S4 方法。目前 lookup 包处于开发版，我们可以用 <code>remotes::install_github</code> 函数来安装它</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages(&quot;remotes&quot;)</span>
remotes<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;jimhester/lookup&quot;</span>)</code></pre>
<p>R-level 的源代码都可以直接看</p>
<pre class="sourceCode r"><code class="sourceCode r">body
<span class="co">#&gt; function (fun = sys.function(sys.parent())) </span>
<span class="co">#&gt; {</span>
<span class="co">#&gt;     if (is.character(fun)) </span>
<span class="co">#&gt;         fun &lt;- get(fun, mode = &quot;function&quot;, envir = parent.frame())</span>
<span class="co">#&gt;     .Internal(body(fun))</span>
<span class="co">#&gt; }</span>
<span class="co">#&gt; &lt;bytecode: 0x00000000092e8dd0&gt;</span>
<span class="co">#&gt; &lt;environment: namespace:base&gt;</span></code></pre>
<p>此外，<code>lookup</code> 可以定位到 C-level 的源代码，需要联网才能查看，lookup 基于 Winston Chang 在 Github 上维护的 <a href="https://github.com/wch/r-source">R 源码镜像</a></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lookup</span>(body)</code></pre>
<pre><code>base::body [closure] 
function (fun = sys.function(sys.parent())) 
{
    if (is.character(fun)) 
        fun &lt;- get(fun, mode = &quot;function&quot;, envir = parent.frame())
    .Internal(body(fun))
}
&lt;bytecode: 0x00000000140d6158&gt;
&lt;environment: namespace:base&gt;
// c source: src/main/builtin.c#L264-L277
SEXP attribute_hidden do_body(SEXP call, SEXP op, SEXP args, SEXP rho)
{
    checkArity(op, args);
    if (TYPEOF(CAR(args)) == CLOSXP) {
        SEXP b = BODY_EXPR(CAR(args));
        RAISE_NAMED(b, NAMED(CAR(args)));
        return b;
    } else {
        if(!(TYPEOF(CAR(args)) == BUILTINSXP ||
             TYPEOF(CAR(args)) == SPECIALSXP))
            warningcall(call, _(&quot;argument is not a function&quot;));
        return R_NilValue;
    }
}</code></pre>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p><a href="https://github.com/libarchive/libarchive/wiki/FormatTar" class="uri">https://github.com/libarchive/libarchive/wiki/FormatTar</a><a href="04-file-system.html#fnref3" class="footnote-back">↩</a></p></li>
<li id="fn4"><p>继 Rtools35 之后， <a href="https://cloud.r-project.org/bin/windows/testing/rtools40.html">RTools40</a> 主要为 R 3.6.0 准备的，包含有 GCC 8 及其它编译R包需要的<a href="https://github.com/r-windows/rtools-packages">工具包</a>，详情请看的<a href="https://jeroen.github.io/uros2018">幻灯片</a><a href="04-file-system.html#fnref4" class="footnote-back">↩</a></p></li>
<li id="fn5"><p><a href="https://github.com/rwinlib/utils" class="uri">https://github.com/rwinlib/utils</a><a href="04-file-system.html#fnref5" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="03-setup.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="05-data-object.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/XiangyunHuang/RGraphics/edit/master/04-file-system.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["RGraphics.pdf", "RGraphics.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
